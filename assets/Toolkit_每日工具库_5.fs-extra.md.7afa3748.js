import{_ as s,o as t,c as a,Q as n}from"./chunks/framework.ac649e5f.js";const u=JSON.parse('{"title":"fs-extra","description":"","frontmatter":{},"headers":[],"relativePath":"Toolkit/每日工具库/5.fs-extra.md","filePath":"Toolkit/每日工具库/5.fs-extra.md"}'),o={name:"Toolkit/每日工具库/5.fs-extra.md"},e=n(`<h1 id="fs-extra" tabindex="-1">fs-extra <a class="header-anchor" href="#fs-extra" aria-label="Permalink to &quot;fs-extra&quot;">​</a></h1><h2 id="什么是-fs-extra" tabindex="-1">什么是 fs-extra？ <a class="header-anchor" href="#什么是-fs-extra" aria-label="Permalink to &quot;什么是 fs-extra？&quot;">​</a></h2><ul><li>fs-extra adds file system methods that aren&#39;t included in the native fs module and adds promise support to the fs methods. It also uses graceful-fs to prevent EMFILE errors. It should be a drop in replacement for fs.</li><li>fs-extra 添加了原生 fs 模块中未包含的文件系统方法，并为 fs 方法添加了 Promise 支持。它还使用 Graceful-fs 来防止 EMFILE 错误。是 fs 的替代品</li><li>目的是为了解决 mkdirp, rimraf, and ncp 在项目中经常使用的问题</li></ul><h2 id="fs-extra-的功能和特点" tabindex="-1">fs-extra 的功能和特点 <a class="header-anchor" href="#fs-extra-的功能和特点" aria-label="Permalink to &quot;fs-extra 的功能和特点&quot;">​</a></h2><ul><li>Promise 支持：fs-extra 中的所有方法都返回 Promise 对象，使得文件操作可以更加方便地使用 async/await 或 Promise 的方式进行处理，避免了回调地狱的问题。</li><li>额外的方法：除了 Node.js 原生的 fs 模块提供的方法外，fs-extra 还提供了一些额外的方法，如 copy、emptyDir、ensureFile 等，使得文件和目录的操作更加便捷。</li><li>错误处理：fs-extra 在处理文件操作时，对错误的处理更加友好和灵活，提供了更多的错误处理选项和方法。</li><li>跨平台兼容：fs-extra 在不同的操作系统上都能够正常工作，不会受到平台差异的影响。</li></ul><h2 id="示例-简化文件操作" tabindex="-1">示例：简化文件操作 <a class="header-anchor" href="#示例-简化文件操作" aria-label="Permalink to &quot;示例：简化文件操作&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> fs </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;fs-extra&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Async with promises:</span></span>
<span class="line"><span style="color:#E1E4E8;">fs.</span><span style="color:#B392F0;">copy</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./home/AI&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;./tmp/mynewfile&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">then</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;success!&quot;</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">catch</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">err</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(err));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 同步拷贝</span></span>
<span class="line"><span style="color:#F97583;">try</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  fs.</span><span style="color:#B392F0;">copySync</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;./home/AI&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;./tmp/copySync/mynewfile&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;success!&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">catch</span><span style="color:#E1E4E8;"> (err) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">error</span><span style="color:#E1E4E8;">(err);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> fs </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;fs-extra&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// Async with promises:</span></span>
<span class="line"><span style="color:#24292E;">fs.</span><span style="color:#6F42C1;">copy</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./home/AI&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;./tmp/mynewfile&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;success!&quot;</span><span style="color:#24292E;">))</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">catch</span><span style="color:#24292E;">((</span><span style="color:#E36209;">err</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(err));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 同步拷贝</span></span>
<span class="line"><span style="color:#D73A49;">try</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  fs.</span><span style="color:#6F42C1;">copySync</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;./home/AI&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;./tmp/copySync/mynewfile&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;success!&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">catch</span><span style="color:#24292E;"> (err) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(err);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="其他方法说明" tabindex="-1">其他方法说明 <a class="header-anchor" href="#其他方法说明" aria-label="Permalink to &quot;其他方法说明&quot;">​</a></h2><table><thead><tr><th>方法名</th><th>功能描述</th><th>示例代码</th></tr></thead><tbody><tr><td>copySync</td><td>同步复制文件或目录</td><td><code>fs.copySync(&#39;source.txt&#39;, &#39;destination.txt&#39;);</code></td></tr><tr><td>emptyDirSync</td><td>同步清空目录</td><td><code>fs.emptyDirSync(&#39;path/to/directory&#39;);</code></td></tr><tr><td>ensureFileSync</td><td>确保文件存在，如果不存在则创建空文件</td><td><code>fs.ensureFileSync(&#39;path/to/file&#39;);</code></td></tr><tr><td>ensureDirSync</td><td>确保目录存在，如果不存在则创建目录</td><td><code>fs.ensureDirSync(&#39;path/to/directory&#39;);</code></td></tr><tr><td>ensureLinkSync</td><td>确保符号链接存在，如果不存在则创建符号链接</td><td><code>fs.ensureLinkSync(&#39;source&#39;, &#39;destination&#39;);</code></td></tr><tr><td>ensureSymlinkSync</td><td>确保符号链接存在，如果不存在则创建符号链接</td><td><code>fs.ensureSymlinkSync(&#39;source&#39;, &#39;destination&#39;);</code></td></tr><tr><td>mkdirpSync</td><td>同步递归创建目录</td><td><code>fs.mkdirpSync(&#39;path/to/directory&#39;);</code></td></tr><tr><td>mkdirsSync</td><td>同步递归创建目录</td><td><code>fs.mkdirsSync(&#39;path/to/directory&#39;);</code></td></tr><tr><td>moveSync</td><td>同步移动文件或目录</td><td><code>fs.moveSync(&#39;source.txt&#39;, &#39;destination.txt&#39;);</code></td></tr><tr><td>outputFileSync</td><td>同步写入文件的内容</td><td><code>fs.outputFileSync(&#39;path/to/file&#39;, &#39;File content&#39;);</code></td></tr><tr><td>outputJsonSync</td><td>同步写入 JSON 格式的数据到文件</td><td><code>fs.outputJsonSync(&#39;path/to/file.json&#39;, data);</code></td></tr><tr><td>pathExistsSync</td><td>同步判断文件或目录是否存在</td><td><code>const exists = fs.pathExistsSync(&#39;path/to/fileOrDirectory&#39;);</code></td></tr><tr><td>readJsonSync</td><td>同步读取 JSON 格式的文件内容</td><td><code>const data = fs.readJsonSync(&#39;path/to/file.json&#39;);</code></td></tr><tr><td>removeSync</td><td>同步删除文件或目录</td><td><code>fs.removeSync(&#39;path/to/file&#39;);</code><br><code>fs.removeSync(&#39;path/to/directory&#39;);</code></td></tr><tr><td>writeJsonSync</td><td>同步写入 JSON 格式的数据到文件</td><td><code>fs.writeJsonSync(&#39;path/to/file.json&#39;, data);</code></td></tr></tbody></table>`,9),l=[e];function p(r,c,d,y,i,E){return t(),a("div",null,l)}const h=s(o,[["render",p]]);export{u as __pageData,h as default};
