import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.8048b864.js";const h=JSON.parse('{"title":"git 多账号管理","description":"","frontmatter":{},"headers":[],"relativePath":"MiscellaneousTalk/P4 工具使用/1.git多账号管理.md","filePath":"MiscellaneousTalk/P4 工具使用/1.git多账号管理.md"}'),p={name:"MiscellaneousTalk/P4 工具使用/1.git多账号管理.md"},o=l(`<h1 id="git-多账号管理" tabindex="-1">git 多账号管理 <a class="header-anchor" href="#git-多账号管理" aria-label="Permalink to &quot;git 多账号管理&quot;">​</a></h1><ul><li>解决问题：同一台电脑，N 个 github 账号同时存在，需要对应 N 个 github 账号的 SSH key</li></ul><h2 id="步骤" tabindex="-1">步骤 <a class="header-anchor" href="#步骤" aria-label="Permalink to &quot;步骤&quot;">​</a></h2><ol><li>运行 git Bash 客户端，输入如下代码：</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">cd</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.ssh</span></span>
<span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">cd</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.ssh</span></span>
<span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span></span></code></pre></div><ol start="2"><li>创建一个 SSH key</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ssh-keygen</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-t</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rsa</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-C</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;your_email@example.com&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-f</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">your_ras_name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 代码参数含义：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># -t 指定密钥类型，默认是 rsa ，可以省略</span></span>
<span class="line"><span style="color:#6A737D;"># -C 设置注释文字，比如邮箱</span></span>
<span class="line"><span style="color:#6A737D;"># -f 指定密钥文件存储文件名 ，多个账号必须区分，默认是 id_rsa 会重名</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ssh-keygen</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-t</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rsa</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-C</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;your_email@example.com&quot;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-f</span><span style="color:#24292E;"> </span><span style="color:#032F62;">your_ras_name</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 代码参数含义：</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># -t 指定密钥类型，默认是 rsa ，可以省略</span></span>
<span class="line"><span style="color:#6A737D;"># -C 设置注释文字，比如邮箱</span></span>
<span class="line"><span style="color:#6A737D;"># -f 指定密钥文件存储文件名 ，多个账号必须区分，默认是 id_rsa 会重名</span></span></code></pre></div><ol start="3"><li>添加你的 SSH key 到 github 上面去</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clip</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">~/.ssh/id_rsa.pub</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clip</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">~/.ssh/id_rsa.pub</span></span></code></pre></div><ol start="4"><li>在.ssh 文件夹中手动创建 config 文件</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 配置</span></span>
<span class="line"><span style="color:#B392F0;">Host</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">自定义别名，随意，但会影响git相关命令（建议取账号user.name</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">或</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">账号邮箱user.email）</span></span>
<span class="line"><span style="color:#B392F0;">HostName</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">远程仓库真实域名</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">github.com或git.oschina.net</span><span style="color:#E1E4E8;">) </span><span style="color:#9ECBFF;">或</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ip地址</span></span>
<span class="line"><span style="color:#B392F0;">PreferredAuthentications</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">publickey</span></span>
<span class="line"><span style="color:#B392F0;">IdentityFile</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">本地私钥id_rsa的路径</span></span>
<span class="line"><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">配置使用用户名，写账号user.name或写git就行</span></span>
<span class="line"><span style="color:#6A737D;"># Port 端口号（默认22）</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 配置</span></span>
<span class="line"><span style="color:#6F42C1;">Host</span><span style="color:#24292E;"> </span><span style="color:#032F62;">自定义别名，随意，但会影响git相关命令（建议取账号user.name</span><span style="color:#24292E;"> </span><span style="color:#032F62;">或</span><span style="color:#24292E;"> </span><span style="color:#032F62;">账号邮箱user.email）</span></span>
<span class="line"><span style="color:#6F42C1;">HostName</span><span style="color:#24292E;"> </span><span style="color:#032F62;">远程仓库真实域名</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">github.com或git.oschina.net</span><span style="color:#24292E;">) </span><span style="color:#032F62;">或</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ip地址</span></span>
<span class="line"><span style="color:#6F42C1;">PreferredAuthentications</span><span style="color:#24292E;"> </span><span style="color:#032F62;">publickey</span></span>
<span class="line"><span style="color:#6F42C1;">IdentityFile</span><span style="color:#24292E;"> </span><span style="color:#032F62;">本地私钥id_rsa的路径</span></span>
<span class="line"><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> </span><span style="color:#032F62;">配置使用用户名，写账号user.name或写git就行</span></span>
<span class="line"><span style="color:#6A737D;"># Port 端口号（默认22）</span></span></code></pre></div><p>demo</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># naparte</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Host</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">naparte</span></span>
<span class="line"><span style="color:#B392F0;">HostName</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">github.com</span></span>
<span class="line"><span style="color:#B392F0;">PreferredAuthentications</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">publickey</span></span>
<span class="line"><span style="color:#B392F0;">IdentityFile</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">C:</span><span style="color:#79B8FF;">\\U</span><span style="color:#9ECBFF;">sers</span><span style="color:#79B8FF;">\\U</span><span style="color:#9ECBFF;">ser</span><span style="color:#79B8FF;">\\.</span><span style="color:#9ECBFF;">ssh</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">aparte</span></span>
<span class="line"><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">naparte</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Port 端口号（默认 22）</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># hzh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">Host</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hzh</span></span>
<span class="line"><span style="color:#B392F0;">HostName</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">github.com</span></span>
<span class="line"><span style="color:#B392F0;">PreferredAuthentications</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">publickey</span></span>
<span class="line"><span style="color:#B392F0;">IdentityFile</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">C:</span><span style="color:#79B8FF;">\\U</span><span style="color:#9ECBFF;">sers</span><span style="color:#79B8FF;">\\U</span><span style="color:#9ECBFF;">ser</span><span style="color:#79B8FF;">\\.</span><span style="color:#9ECBFF;">ssh</span><span style="color:#79B8FF;">\\i</span><span style="color:#9ECBFF;">d_rsa</span></span>
<span class="line"><span style="color:#B392F0;">User</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hzh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Port 端口号（默认 22）</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># naparte</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Host</span><span style="color:#24292E;"> </span><span style="color:#032F62;">naparte</span></span>
<span class="line"><span style="color:#6F42C1;">HostName</span><span style="color:#24292E;"> </span><span style="color:#032F62;">github.com</span></span>
<span class="line"><span style="color:#6F42C1;">PreferredAuthentications</span><span style="color:#24292E;"> </span><span style="color:#032F62;">publickey</span></span>
<span class="line"><span style="color:#6F42C1;">IdentityFile</span><span style="color:#24292E;"> </span><span style="color:#032F62;">C:</span><span style="color:#005CC5;">\\U</span><span style="color:#032F62;">sers</span><span style="color:#005CC5;">\\U</span><span style="color:#032F62;">ser</span><span style="color:#005CC5;">\\.</span><span style="color:#032F62;">ssh</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">aparte</span></span>
<span class="line"><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> </span><span style="color:#032F62;">naparte</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Port 端口号（默认 22）</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># hzh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">Host</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hzh</span></span>
<span class="line"><span style="color:#6F42C1;">HostName</span><span style="color:#24292E;"> </span><span style="color:#032F62;">github.com</span></span>
<span class="line"><span style="color:#6F42C1;">PreferredAuthentications</span><span style="color:#24292E;"> </span><span style="color:#032F62;">publickey</span></span>
<span class="line"><span style="color:#6F42C1;">IdentityFile</span><span style="color:#24292E;"> </span><span style="color:#032F62;">C:</span><span style="color:#005CC5;">\\U</span><span style="color:#032F62;">sers</span><span style="color:#005CC5;">\\U</span><span style="color:#032F62;">ser</span><span style="color:#005CC5;">\\.</span><span style="color:#032F62;">ssh</span><span style="color:#005CC5;">\\i</span><span style="color:#032F62;">d_rsa</span></span>
<span class="line"><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hzh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># Port 端口号（默认 22）</span></span></code></pre></div><ol start="5"><li>测试连接</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ssh</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-T</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">git@naparte</span></span>
<span class="line"><span style="color:#6A737D;"># You&#39;ve successfully authenticated, but GitHub does not provide shell access 提示这个表示成功了</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ssh</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-T</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git@naparte</span></span>
<span class="line"><span style="color:#6A737D;"># You&#39;ve successfully authenticated, but GitHub does not provide shell access 提示这个表示成功了</span></span></code></pre></div><ol start="6"><li>拉取项目</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clone</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">git@github.com:naparte/yourblog.git</span></span>
<span class="line"><span style="color:#6A737D;"># 改为(@后面改成你的host名称)</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">clone</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">git@naparte:naparte/yourblog.git</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clone</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git@github.com:naparte/yourblog.git</span></span>
<span class="line"><span style="color:#6A737D;"># 改为(@后面改成你的host名称)</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">clone</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git@naparte:naparte/yourblog.git</span></span></code></pre></div><ol start="8"><li>解决老项目 git pull 需要输入密码的问题</li></ol><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 一是直接修改远程仓库的URL</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remote</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">set-url</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">origin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">git@Host别名:gitrepo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 二是先remote rm再remote add</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remote</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">origin</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">remote</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">origin</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">git@Host别名:gitrepo</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 一是直接修改远程仓库的URL</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remote</span><span style="color:#24292E;"> </span><span style="color:#032F62;">set-url</span><span style="color:#24292E;"> </span><span style="color:#032F62;">origin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git@Host别名:gitrepo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 二是先remote rm再remote add</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remote</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">origin</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">remote</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">origin</span><span style="color:#24292E;"> </span><span style="color:#032F62;">git@Host别名:gitrepo</span></span></code></pre></div><h2 id="参考文献" tabindex="-1">参考文献 <a class="header-anchor" href="#参考文献" aria-label="Permalink to &quot;参考文献&quot;">​</a></h2><ul><li><a href="https://juejin.cn/post/6909675192532860941#heading-6" target="_blank" rel="noreferrer">Git 多账号管理</a></li></ul>`,21),e=[o];function t(c,r,i,y,E,F){return a(),n("div",null,e)}const C=s(p,[["render",t]]);export{h as __pageData,C as default};
