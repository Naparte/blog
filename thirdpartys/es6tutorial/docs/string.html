<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>字符串的扩展 | Naparte Blog</title>
    <meta name="description" content="A VitePress Site">
    <link rel="preload stylesheet" href="/assets/style.0ad6c0e2.css" as="style">
    
    <script type="module" src="/assets/app.535d5f1a.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.8048b864.js">
    <link rel="modulepreload" href="/assets/chunks/theme.fac8fccf.js">
    <link rel="modulepreload" href="/assets/thirdpartys_es6tutorial_docs_string.md.b65b5cbe.lean.js">
    <link rel="icon" href="./favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9d8abc1e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9d8abc1e data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-f1abbc6e><div class="container" data-v-f1abbc6e><div class="title" data-v-f1abbc6e><div class="VPNavBarTitle" data-v-f1abbc6e data-v-2973dbb4><a class="title" href="/" data-v-2973dbb4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/avatar.png" alt data-v-ab19afbb><!--]--><!--[-->Naparte Blog<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1abbc6e><div class="curtain" data-v-f1abbc6e></div><div class="content-body" data-v-f1abbc6e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f1abbc6e><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1abbc6e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Deepunderstanding/P1%20%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E7%B3%BB%E5%88%97/1.%E5%8E%9F%E5%9E%8B%E9%93%BE.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>深入理解系列</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/TechnologyExploration/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF%E6%8E%A2%E7%B4%A2/1.TreeShaking.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>前端技术探索</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Toolkit/%E6%AF%8F%E6%97%A5%E5%B7%A5%E5%85%B7%E5%BA%93/1.madge.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>每日·壹库</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/Books/P1%20%E9%98%AE%E4%B8%80%E5%B3%B0%E7%9A%84TS%E6%95%99%E7%A8%8B/1.%E7%AE%80%E4%BB%8B.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>eBook</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/MiscellaneousTalk/P1%20%E6%A6%82%E5%BF%B5%E7%B3%BB%E5%88%97/1.%E5%BA%93%20vs%20%E6%A1%86%E6%9E%B6%20vs%20%E5%B9%B3%E5%8F%B0.html" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>阅</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1abbc6e data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-283b26e9 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f1abbc6e data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://blog.csdn.net/qq_28949081?type=blog" aria-label target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg t="1700188662639" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4049" width="200" height="200"><path d="M512 0c282.784 0 512 229.216 512 512s-229.216 512-512 512S0 794.784 0 512 229.216 0 512 0z m189.952 752l11.20000001-108.22400001c-31.904 9.53600001-100.92800001 16.128-147.712 16.12800002-134.46400001 0-205.728-47.29600001-195.32800002-146.30400002 11.58400001-110.688 113.152-145.696 232.64000001-145.69599999 54.784 0 122.43200001 8.79999999 151.296 18.33599999L768 272.70399999C724.54400001 262.24 678.272 256 599.584 256c-203.20000001 0-388.704 94.88-406.4 263.48800001C178.336 660.96 303.584 768 535.61600001 768c80.672 0 138.464-6.432 166.33599999-16z" fill="#007bff" p-id="4050"></path></svg></a><a class="VPSocialLink no-icon" href="https://juejin.cn/user/4054654613726295" aria-label target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg t="1700188703014" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6297" width="200" height="200"><path d="M465.189 161.792c-22.967 18.14-44.325 35.109-47.397 37.742l-5.851 4.68 10.971 8.632c5.998 4.827 11.85 9.508 13.02 10.532 1.17 1.024 17.993 14.336 37.156 29.696l34.962 27.795 5.267-3.95c2.925-2.194 23.259-18.432 45.348-35.986 21.943-17.555 41.253-32.768 42.716-33.646 1.609-1.024 2.779-2.194 2.779-2.78 0-0.438-9.655-8.63-21.504-17.846-11.995-9.363-22.674-17.847-23.845-18.871-15.945-13.02-49.737-39.059-50.76-39.059-0.586 0.147-19.896 14.922-42.862 33.061z m233.325 180.37C507.465 493.275 508.928 492.105 505.417 489.911c-3.072-1.902-11.556-8.485-64.073-50.03-9.07-7.168-18.578-14.775-21.358-16.823-2.78-2.194-8.777-6.875-13.312-10.532-4.68-3.657-10.679-8.339-13.312-10.533-13.165-10.24-71.095-56.027-102.107-80.457-5.852-4.681-11.41-8.485-12.142-8.485-0.731 0-10.971 7.754-22.674 17.116-11.703 9.508-22.674 18.286-24.284 19.456-1.755 1.17-5.12 3.95-7.46 6.144-2.34 2.34-4.828 4.096-5.413 4.096-3.072 0-0.731 3.072 6.437 8.777 4.096 3.218 8.777 6.875 10.094 8.046 1.316 1.024 10.24 8.045 19.748 15.506s23.26 18.286 30.428 23.99c19.31 15.215 31.89 25.308 127.853 101.084 47.836 37.742 88.796 69.779 90.844 71.095 3.657 2.487 3.95 2.487 7.46-0.292a1041.42 1041.42 0 0 0 16.092-12.727c6.875-5.413 14.775-11.703 17.554-13.897 30.135-23.699 80.018-63.05 81.774-64.512 1.17-1.024 12.434-9.802 24.868-19.603s37.888-29.696 56.32-44.324c18.579-14.629 46.227-36.425 61.733-48.567 15.506-12.142 27.794-22.528 27.502-23.26-0.878-1.17-57.637-47.104-59.978-48.274-0.731-0.439-18.578 12.727-39.497 29.257z" fill="#006CFF" p-id="6298"></path><path d="M57.93 489.326c-15.215 12.288-28.527 23.405-29.697 24.576-2.34 2.194-5.412-0.44 80.018 66.852 33.207 26.185 32.622 25.747 57.637 45.495 10.386 8.192 36.279 28.672 57.783 45.495 38.18 30.135 44.91 35.401 52.663 41.545 2.048 1.756 22.967 18.14 46.372 36.572 23.26 18.432 74.167 58.514 112.933 89.088 38.912 30.573 71.095 55.734 71.826 56.027 0.732 0.293 7.46-4.389 14.921-10.386 21.797-16.97 90.259-70.949 101.523-79.872 5.705-4.535 12.873-10.24 15.945-12.58 3.072-2.488 6.436-5.12 7.314-5.852 0.878-0.878 11.85-9.509 24.283-19.31 20.773-16.091 59.1-46.226 64.366-50.615 1.17-1.024 5.12-4.096 8.777-6.875 3.657-2.78 7.9-6.29 9.509-7.607 1.609-1.317 14.775-11.703 29.257-23.113 29.11-22.82 42.277-33.207 88.503-69.632 17.262-13.605 32.475-25.454 33.646-26.478 2.486-2.048 31.451-24.869 44.617-35.255 4.827-3.657 9.07-7.168 9.508-7.607 0.44-0.585 5.998-4.827 12.435-9.8 6.436-4.828 13.165-10.24 15.067-11.85l3.365-2.926-9.948-7.753c-5.412-4.388-10.24-8.192-10.679-8.63-1.17-1.317-22.381-18.433-30.135-24.284-3.95-3.072-7.314-5.998-7.606-6.73-1.317-3.071-6.73 0.147-29.258 17.994-13.458 10.532-25.746 20.187-27.355 21.504-1.61 1.463-10.533 8.338-19.749 15.652-9.216 7.168-17.115 13.459-17.554 13.898-0.439 0.438-6.583 5.412-13.897 10.971-7.168 5.559-15.214 11.703-17.7 13.75-4.974 4.097-5.413 4.39-20.334 16.239-5.56 4.388-11.264 8.777-12.435 9.8-1.17 1.025-20.333 16.092-42.422 33.354-22.09 17.408-41.546 32.768-43.155 34.084-1.609 1.463-14.482 11.557-28.525 22.528s-40.814 32.037-59.539 46.812c-18.578 14.775-42.276 33.353-52.516 41.399s-23.26 18.285-28.965 22.82l-10.386 8.339-4.389-3.072c-2.34-1.756-4.68-3.511-5.12-3.95-0.439-0.439-4.973-4.096-10.24-8.046-11.849-9.216-14.482-11.264-16.676-13.166-0.878-0.877-4.243-3.51-7.46-5.851-3.22-2.487-6.145-4.681-6.584-5.12-0.439-0.439-6.875-5.705-14.482-11.703-7.607-5.851-14.921-11.556-16.091-12.58-1.317-1.17-17.116-13.605-35.255-27.795-17.993-14.19-35.109-27.648-38.035-29.842-5.705-4.681-33.499-26.624-125.074-98.743-34.523-27.209-72.704-57.344-84.846-66.852-49.737-39.498-55.15-43.594-56.905-43.447-0.877 0-14.043 10.24-29.257 22.528z" fill="#006CFF" p-id="6299"></path></svg></a><a class="VPSocialLink no-icon" href="https://github.com/Naparte/verce-blog" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f1abbc6e data-v-c8c2ae4b data-v-aa8de344><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aa8de344><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aa8de344><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aa8de344><div class="VPMenu" data-v-aa8de344 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-c8c2ae4b><div class="item appearance" data-v-c8c2ae4b><p class="label" data-v-c8c2ae4b>Appearance</p><div class="appearance-action" data-v-c8c2ae4b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-c8c2ae4b data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-c8c2ae4b><div class="item social-links" data-v-c8c2ae4b><div class="VPSocialLinks social-links-list" data-v-c8c2ae4b data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://blog.csdn.net/qq_28949081?type=blog" aria-label target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg t="1700188662639" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4049" width="200" height="200"><path d="M512 0c282.784 0 512 229.216 512 512s-229.216 512-512 512S0 794.784 0 512 229.216 0 512 0z m189.952 752l11.20000001-108.22400001c-31.904 9.53600001-100.92800001 16.128-147.712 16.12800002-134.46400001 0-205.728-47.29600001-195.32800002-146.30400002 11.58400001-110.688 113.152-145.696 232.64000001-145.69599999 54.784 0 122.43200001 8.79999999 151.296 18.33599999L768 272.70399999C724.54400001 262.24 678.272 256 599.584 256c-203.20000001 0-388.704 94.88-406.4 263.48800001C178.336 660.96 303.584 768 535.61600001 768c80.672 0 138.464-6.432 166.33599999-16z" fill="#007bff" p-id="4050"></path></svg></a><a class="VPSocialLink no-icon" href="https://juejin.cn/user/4054654613726295" aria-label target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg t="1700188703014" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6297" width="200" height="200"><path d="M465.189 161.792c-22.967 18.14-44.325 35.109-47.397 37.742l-5.851 4.68 10.971 8.632c5.998 4.827 11.85 9.508 13.02 10.532 1.17 1.024 17.993 14.336 37.156 29.696l34.962 27.795 5.267-3.95c2.925-2.194 23.259-18.432 45.348-35.986 21.943-17.555 41.253-32.768 42.716-33.646 1.609-1.024 2.779-2.194 2.779-2.78 0-0.438-9.655-8.63-21.504-17.846-11.995-9.363-22.674-17.847-23.845-18.871-15.945-13.02-49.737-39.059-50.76-39.059-0.586 0.147-19.896 14.922-42.862 33.061z m233.325 180.37C507.465 493.275 508.928 492.105 505.417 489.911c-3.072-1.902-11.556-8.485-64.073-50.03-9.07-7.168-18.578-14.775-21.358-16.823-2.78-2.194-8.777-6.875-13.312-10.532-4.68-3.657-10.679-8.339-13.312-10.533-13.165-10.24-71.095-56.027-102.107-80.457-5.852-4.681-11.41-8.485-12.142-8.485-0.731 0-10.971 7.754-22.674 17.116-11.703 9.508-22.674 18.286-24.284 19.456-1.755 1.17-5.12 3.95-7.46 6.144-2.34 2.34-4.828 4.096-5.413 4.096-3.072 0-0.731 3.072 6.437 8.777 4.096 3.218 8.777 6.875 10.094 8.046 1.316 1.024 10.24 8.045 19.748 15.506s23.26 18.286 30.428 23.99c19.31 15.215 31.89 25.308 127.853 101.084 47.836 37.742 88.796 69.779 90.844 71.095 3.657 2.487 3.95 2.487 7.46-0.292a1041.42 1041.42 0 0 0 16.092-12.727c6.875-5.413 14.775-11.703 17.554-13.897 30.135-23.699 80.018-63.05 81.774-64.512 1.17-1.024 12.434-9.802 24.868-19.603s37.888-29.696 56.32-44.324c18.579-14.629 46.227-36.425 61.733-48.567 15.506-12.142 27.794-22.528 27.502-23.26-0.878-1.17-57.637-47.104-59.978-48.274-0.731-0.439-18.578 12.727-39.497 29.257z" fill="#006CFF" p-id="6298"></path><path d="M57.93 489.326c-15.215 12.288-28.527 23.405-29.697 24.576-2.34 2.194-5.412-0.44 80.018 66.852 33.207 26.185 32.622 25.747 57.637 45.495 10.386 8.192 36.279 28.672 57.783 45.495 38.18 30.135 44.91 35.401 52.663 41.545 2.048 1.756 22.967 18.14 46.372 36.572 23.26 18.432 74.167 58.514 112.933 89.088 38.912 30.573 71.095 55.734 71.826 56.027 0.732 0.293 7.46-4.389 14.921-10.386 21.797-16.97 90.259-70.949 101.523-79.872 5.705-4.535 12.873-10.24 15.945-12.58 3.072-2.488 6.436-5.12 7.314-5.852 0.878-0.878 11.85-9.509 24.283-19.31 20.773-16.091 59.1-46.226 64.366-50.615 1.17-1.024 5.12-4.096 8.777-6.875 3.657-2.78 7.9-6.29 9.509-7.607 1.609-1.317 14.775-11.703 29.257-23.113 29.11-22.82 42.277-33.207 88.503-69.632 17.262-13.605 32.475-25.454 33.646-26.478 2.486-2.048 31.451-24.869 44.617-35.255 4.827-3.657 9.07-7.168 9.508-7.607 0.44-0.585 5.998-4.827 12.435-9.8 6.436-4.828 13.165-10.24 15.067-11.85l3.365-2.926-9.948-7.753c-5.412-4.388-10.24-8.192-10.679-8.63-1.17-1.317-22.381-18.433-30.135-24.284-3.95-3.072-7.314-5.998-7.606-6.73-1.317-3.071-6.73 0.147-29.258 17.994-13.458 10.532-25.746 20.187-27.355 21.504-1.61 1.463-10.533 8.338-19.749 15.652-9.216 7.168-17.115 13.459-17.554 13.898-0.439 0.438-6.583 5.412-13.897 10.971-7.168 5.559-15.214 11.703-17.7 13.75-4.974 4.097-5.413 4.39-20.334 16.239-5.56 4.388-11.264 8.777-12.435 9.8-1.17 1.025-20.333 16.092-42.422 33.354-22.09 17.408-41.546 32.768-43.155 34.084-1.609 1.463-14.482 11.557-28.525 22.528s-40.814 32.037-59.539 46.812c-18.578 14.775-42.276 33.353-52.516 41.399s-23.26 18.285-28.965 22.82l-10.386 8.339-4.389-3.072c-2.34-1.756-4.68-3.511-5.12-3.95-0.439-0.439-4.973-4.096-10.24-8.046-11.849-9.216-14.482-11.264-16.676-13.166-0.878-0.877-4.243-3.51-7.46-5.851-3.22-2.487-6.145-4.681-6.584-5.12-0.439-0.439-6.875-5.705-14.482-11.703-7.607-5.851-14.921-11.556-16.091-12.58-1.317-1.17-17.116-13.605-35.255-27.795-17.993-14.19-35.109-27.648-38.035-29.842-5.705-4.681-33.499-26.624-125.074-98.743-34.523-27.209-72.704-57.344-84.846-66.852-49.737-39.498-55.15-43.594-56.905-43.447-0.877 0-14.043 10.24-29.257 22.528z" fill="#006CFF" p-id="6299"></path></svg></a><a class="VPSocialLink no-icon" href="https://github.com/Naparte/verce-blog" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1abbc6e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav fixed reached-top" data-v-9d8abc1e data-v-9e669cc1><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9e669cc1 data-v-24251f6f><button data-v-24251f6f>Return to top</button><!----></div></div><!----><div class="VPContent" id="VPContent" data-v-9d8abc1e data-v-3cf691b6><div class="VPDoc has-aside" data-v-3cf691b6 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><div class="aside" data-v-a3c25e27><div class="aside-curtain" data-v-a3c25e27></div><div class="aside-container" data-v-a3c25e27><div class="aside-content" data-v-a3c25e27><div class="VPDocAside" data-v-a3c25e27 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-3a6c4994><div class="content" data-v-3a6c4994><div class="outline-marker" data-v-3a6c4994></div><div class="outline-title" role="heading" aria-level="2" data-v-3a6c4994>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-3a6c4994><span class="visually-hidden" id="doc-outline-aria-label" data-v-3a6c4994> Table of Contents for current page </span><ul class="root" data-v-3a6c4994 data-v-463da30f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _thirdpartys_es6tutorial_docs_string" data-v-a3c25e27><div><h1 id="字符串的扩展" tabindex="-1">字符串的扩展 <a class="header-anchor" href="#字符串的扩展" aria-label="Permalink to &quot;字符串的扩展&quot;">​</a></h1><p>本章介绍 ES6 对字符串的改造和增强，下一章介绍字符串对象的新增方法。</p><h2 id="字符的-unicode-表示法" tabindex="-1">字符的 Unicode 表示法 <a class="header-anchor" href="#字符的-unicode-表示法" aria-label="Permalink to &quot;字符的 Unicode 表示法&quot;">​</a></h2><p>ES6 加强了对 Unicode 的支持，允许采用<code>\uxxxx</code>形式表示一个字符，其中<code>xxxx</code>表示字符的 Unicode 码点。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\u0061</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;a&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\u0061</span><span style="color:#032F62;">&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;a&quot;</span></span></code></pre></div><p>但是，这种表示法只限于码点在<code>\u0000</code>~<code>\uFFFF</code>之间的字符。超出这个范围的字符，必须用两个双字节的形式表示。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\uD842\uDFB7</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;𠮷&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\u20BB</span><span style="color:#9ECBFF;">7&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; 7&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\uD842\uDFB7</span><span style="color:#032F62;">&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;𠮷&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\u20BB</span><span style="color:#032F62;">7&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; 7&quot;</span></span></code></pre></div><p>上面代码表示，如果直接在<code>\u</code>后面跟上超过<code>0xFFFF</code>的数值（比如<code>\u20BB7</code>），JavaScript 会理解成<code>\u20BB+7</code>。由于<code>\u20BB</code>是一个不可打印字符，所以只会显示一个空格，后面跟着一个<code>7</code>。</p><p>ES6 对这一点做出了改进，只要将码点放入大括号，就能正确解读该字符。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\u{20BB7}</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;𠮷&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\u{41}\u{42}\u{43}</span><span style="color:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;ABC&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> hello </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">123</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">hell\u{6</span><span style="color:#79B8FF;">F</span><span style="color:#E1E4E8;">} </span><span style="color:#6A737D;">// 123</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\u{1F680}</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\uD83D\uDE80</span><span style="color:#9ECBFF;">&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\u{20BB7}</span><span style="color:#032F62;">&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;𠮷&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\u{41}\u{42}\u{43}</span><span style="color:#032F62;">&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;ABC&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> hello </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">123</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">hell\u{6</span><span style="color:#005CC5;">F</span><span style="color:#24292E;">} </span><span style="color:#6A737D;">// 123</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\u{1F680}</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\uD83D\uDE80</span><span style="color:#032F62;">&#39;</span></span>
<span class="line"><span style="color:#6A737D;">// true</span></span></code></pre></div><p>上面代码中，最后一个例子表明，大括号表示法与四字节的 UTF-16 编码是等价的。</p><p>有了这种表示法之后，JavaScript 共有 6 种方法可以表示一个字符。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\z</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;z&#39;</span><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\172</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;z&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\x7A</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;z&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\u007A</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;z&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\u{7A}</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;z&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\z</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;z&#39;</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\172</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;z&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\x7A</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;z&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\u007A</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;z&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// true</span></span>
<span class="line"><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\u{7A}</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;z&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// true</span></span></code></pre></div><h2 id="字符串的遍历器接口" tabindex="-1">字符串的遍历器接口 <a class="header-anchor" href="#字符串的遍历器接口" aria-label="Permalink to &quot;字符串的遍历器接口&quot;">​</a></h2><p>ES6 为字符串添加了遍历器接口（详见《Iterator》一章），使得字符串可以被<code>for...of</code>循环遍历。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> codePoint </span><span style="color:#F97583;">of</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;foo&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(codePoint)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;f&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;o&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;o&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> codePoint </span><span style="color:#D73A49;">of</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;foo&#39;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(codePoint)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;f&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;o&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;o&quot;</span></span></code></pre></div><p>除了遍历字符串，这个遍历器最大的优点是可以识别大于<code>0xFFFF</code>的码点，传统的<code>for</code>循环无法识别这样的码点。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> text </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> String.</span><span style="color:#B392F0;">fromCodePoint</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0x20BB7</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> text.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(text[i]);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; &quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">of</span><span style="color:#E1E4E8;"> text) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(i);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;𠮷&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> text </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> String.</span><span style="color:#6F42C1;">fromCodePoint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0x20BB7</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> text.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(text[i]);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; &quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">of</span><span style="color:#24292E;"> text) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(i);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;𠮷&quot;</span></span></code></pre></div><p>上面代码中，字符串<code>text</code>只有一个字符，但是<code>for</code>循环会认为它包含两个字符（都不可打印），而<code>for...of</code>循环会正确识别出这一个字符。</p><h2 id="直接输入-u-2028-和-u-2029" tabindex="-1">直接输入 U+2028 和 U+2029 <a class="header-anchor" href="#直接输入-u-2028-和-u-2029" aria-label="Permalink to &quot;直接输入 U+2028 和 U+2029&quot;">​</a></h2><p>JavaScript 字符串允许直接输入字符，以及输入字符的转义形式。举例来说，“中”的 Unicode 码点是 U+4e2d，你可以直接在字符串里面输入这个汉字，也可以输入它的转义形式<code>\u4e2d</code>，两者是等价的。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&#39;中&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\u4e2d</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&#39;中&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\u4e2d</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// true</span></span></code></pre></div><p>但是，JavaScript 规定有5个字符，不能在字符串里面直接使用，只能使用转义形式。</p><ul><li>U+005C：反斜杠（reverse solidus)</li><li>U+000D：回车（carriage return）</li><li>U+2028：行分隔符（line separator）</li><li>U+2029：段分隔符（paragraph separator）</li><li>U+000A：换行符（line feed）</li></ul><p>举例来说，字符串里面不能直接包含反斜杠，一定要转义写成<code>\\</code>或者<code>\u005c</code>。</p><p>这个规定本身没有问题，麻烦在于 JSON 格式允许字符串里面直接使用 U+2028（行分隔符）和 U+2029（段分隔符）。这样一来，服务器输出的 JSON 被<code>JSON.parse</code>解析，就有可能直接报错。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">json</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&quot;</span><span style="color:#79B8FF;">\u2028</span><span style="color:#9ECBFF;">&quot;&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">(json); </span><span style="color:#6A737D;">// 可能报错</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">json</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&quot;</span><span style="color:#005CC5;">\u2028</span><span style="color:#032F62;">&quot;&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(json); </span><span style="color:#6A737D;">// 可能报错</span></span></code></pre></div><p>JSON 格式已经冻结（RFC 7159），没法修改了。为了消除这个报错，<a href="https://github.com/tc39/proposal-json-superset" target="_blank" rel="noreferrer">ES2019</a> 允许 JavaScript 字符串直接输入 U+2028（行分隔符）和 U+2029（段分隔符）。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">PS</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">eval</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;&#39;</span><span style="color:#79B8FF;">\u2029</span><span style="color:#9ECBFF;">&#39;&quot;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">PS</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">eval</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;&#39;</span><span style="color:#005CC5;">\u2029</span><span style="color:#032F62;">&#39;&quot;</span><span style="color:#24292E;">);</span></span></code></pre></div><p>根据这个提案，上面的代码不会报错。</p><p>注意，模板字符串现在就允许直接输入这两个字符。另外，正则表达式依然不允许直接输入这两个字符，这是没有问题的，因为 JSON 本来就不允许直接包含正则表达式。</p><h2 id="json-stringify-的改造" tabindex="-1">JSON.stringify() 的改造 <a class="header-anchor" href="#json-stringify-的改造" aria-label="Permalink to &quot;JSON.stringify() 的改造&quot;">​</a></h2><p>根据标准，JSON 数据必须是 UTF-8 编码。但是，现在的<code>JSON.stringify()</code>方法有可能返回不符合 UTF-8 标准的字符串。</p><p>具体来说，UTF-8 标准规定，<code>0xD800</code>到<code>0xDFFF</code>之间的码点，不能单独使用，必须配对使用。比如，<code>\uD834\uDF06</code>是两个码点，但是必须放在一起配对使用，代表字符<code>𝌆</code>。这是为了表示码点大于<code>0xFFFF</code>的字符的一种变通方法。单独使用<code>\uD834</code>和<code>\uDF06</code>这两个码点是不合法的，或者颠倒顺序也不行，因为<code>\uDF06\uD834</code>并没有对应的字符。</p><p><code>JSON.stringify()</code>的问题在于，它可能返回<code>0xD800</code>到<code>0xDFFF</code>之间的单个码点。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\u{D834}</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// &quot;\u{D834}&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\u{D834}</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// &quot;\u{D834}&quot;</span></span></code></pre></div><p>为了确保返回的是合法的 UTF-8 字符，<a href="https://github.com/tc39/proposal-well-formed-stringify" target="_blank" rel="noreferrer">ES2019</a> 改变了<code>JSON.stringify()</code>的行为。如果遇到<code>0xD800</code>到<code>0xDFFF</code>之间的单个码点，或者不存在的配对形式，它会返回转义字符串，留给应用自己决定下一步的处理。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\u{D834}</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// &quot;&quot;\\uD834&quot;&quot;</span></span>
<span class="line"><span style="color:#79B8FF;">JSON</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">stringify</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#79B8FF;">\uDF06\uD834</span><span style="color:#9ECBFF;">&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// &quot;&quot;\\udf06\\ud834&quot;&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\u{D834}</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// &quot;&quot;\\uD834&quot;&quot;</span></span>
<span class="line"><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;</span><span style="color:#005CC5;">\uDF06\uD834</span><span style="color:#032F62;">&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// &quot;&quot;\\udf06\\ud834&quot;&quot;</span></span></code></pre></div><h2 id="模板字符串" tabindex="-1">模板字符串 <a class="header-anchor" href="#模板字符串" aria-label="Permalink to &quot;模板字符串&quot;">​</a></h2><p>传统的 JavaScript 语言，输出模板通常是这样写的（下面使用了 jQuery 的方法）。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#result&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">append</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&#39;There are &lt;b&gt;&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> basket.count </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&lt;/b&gt; &#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&#39;items in your basket, &#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&#39;&lt;em&gt;&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> basket.onSale </span><span style="color:#F97583;">+</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">&#39;&lt;/em&gt; are on sale!&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#result&#39;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">append</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&#39;There are &lt;b&gt;&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> basket.count </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&lt;/b&gt; &#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&#39;items in your basket, &#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&#39;&lt;em&gt;&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> basket.onSale </span><span style="color:#D73A49;">+</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&#39;&lt;/em&gt; are on sale!&#39;</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre></div><p>上面这种写法相当繁琐不方便，ES6 引入了模板字符串解决这个问题。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#result&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">append</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">  There are &lt;b&gt;${</span><span style="color:#E1E4E8;">basket</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">count</span><span style="color:#9ECBFF;">}&lt;/b&gt; items</span></span>
<span class="line"><span style="color:#9ECBFF;">   in your basket, &lt;em&gt;${</span><span style="color:#E1E4E8;">basket</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">onSale</span><span style="color:#9ECBFF;">}&lt;/em&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  are on sale!</span></span>
<span class="line"><span style="color:#9ECBFF;">`</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#result&#39;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">append</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">  There are &lt;b&gt;${</span><span style="color:#24292E;">basket</span><span style="color:#032F62;">.</span><span style="color:#24292E;">count</span><span style="color:#032F62;">}&lt;/b&gt; items</span></span>
<span class="line"><span style="color:#032F62;">   in your basket, &lt;em&gt;${</span><span style="color:#24292E;">basket</span><span style="color:#032F62;">.</span><span style="color:#24292E;">onSale</span><span style="color:#032F62;">}&lt;/em&gt;</span></span>
<span class="line"><span style="color:#032F62;">  are on sale!</span></span>
<span class="line"><span style="color:#032F62;">`</span><span style="color:#24292E;">);</span></span></code></pre></div><p>模板字符串（template string）是增强版的字符串，用反引号（`）标识。它可以当作普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 普通字符串</span></span>
<span class="line"><span style="color:#9ECBFF;">`In JavaScript &#39;</span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">&#39; is a line-feed.`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 多行字符串</span></span>
<span class="line"><span style="color:#9ECBFF;">`In JavaScript this is</span></span>
<span class="line"><span style="color:#9ECBFF;"> not legal.`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`string text line 1</span></span>
<span class="line"><span style="color:#9ECBFF;">string text line 2`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 字符串中嵌入变量</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Bob&quot;</span><span style="color:#E1E4E8;">, time </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;today&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#9ECBFF;">`Hello ${</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}, how are you ${</span><span style="color:#E1E4E8;">time</span><span style="color:#9ECBFF;">}?`</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 普通字符串</span></span>
<span class="line"><span style="color:#032F62;">`In JavaScript &#39;</span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">&#39; is a line-feed.`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 多行字符串</span></span>
<span class="line"><span style="color:#032F62;">`In JavaScript this is</span></span>
<span class="line"><span style="color:#032F62;"> not legal.`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`string text line 1</span></span>
<span class="line"><span style="color:#032F62;">string text line 2`</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 字符串中嵌入变量</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Bob&quot;</span><span style="color:#24292E;">, time </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;today&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#032F62;">`Hello ${</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}, how are you ${</span><span style="color:#24292E;">time</span><span style="color:#032F62;">}?`</span></span></code></pre></div><p>上面代码中的模板字符串，都是用反引号表示。如果在模板字符串中需要使用反引号，则前面要用反斜杠转义。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> greeting </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`</span><span style="color:#79B8FF;">\`</span><span style="color:#9ECBFF;">Yo</span><span style="color:#79B8FF;">\`</span><span style="color:#9ECBFF;"> World!`</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> greeting </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`</span><span style="color:#005CC5;">\`</span><span style="color:#032F62;">Yo</span><span style="color:#005CC5;">\`</span><span style="color:#032F62;"> World!`</span><span style="color:#24292E;">;</span></span></code></pre></div><p>如果使用模板字符串表示多行字符串，所有的空格和缩进都会被保留在输出之中。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#list&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">html</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">&lt;ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;li&gt;first&lt;/li&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;li&gt;second&lt;/li&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">&lt;/ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">`</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#list&#39;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">html</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">&lt;ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;li&gt;first&lt;/li&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;li&gt;second&lt;/li&gt;</span></span>
<span class="line"><span style="color:#032F62;">&lt;/ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">`</span><span style="color:#24292E;">);</span></span></code></pre></div><p>上面代码中，所有模板字符串的空格和换行，都是被保留的，比如<code>&lt;ul&gt;</code>标签前面会有一个换行。如果你不想要这个换行，可以使用<code>trim</code>方法消除它。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;#list&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#B392F0;">html</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">&lt;ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;li&gt;first&lt;/li&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;li&gt;second&lt;/li&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">&lt;/ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">`</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">trim</span><span style="color:#E1E4E8;">());</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;#list&#39;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">html</span><span style="color:#24292E;">(</span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">&lt;ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;li&gt;first&lt;/li&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;li&gt;second&lt;/li&gt;</span></span>
<span class="line"><span style="color:#032F62;">&lt;/ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">`</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">trim</span><span style="color:#24292E;">());</span></span></code></pre></div><p>模板字符串中嵌入变量，需要将变量名写在<code>${}</code>之中。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">authorize</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">user</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">action</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!</span><span style="color:#E1E4E8;">user.</span><span style="color:#B392F0;">hasPrivilege</span><span style="color:#E1E4E8;">(action)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">throw</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Error</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// 传统写法为</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// &#39;User &#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// + user.name</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// + &#39; is not authorized to do &#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// + action</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#6A737D;">// + &#39;.&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#9ECBFF;">`User ${</span><span style="color:#E1E4E8;">user</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">} is not authorized to do ${</span><span style="color:#E1E4E8;">action</span><span style="color:#9ECBFF;">}.`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">authorize</span><span style="color:#24292E;">(</span><span style="color:#E36209;">user</span><span style="color:#24292E;">, </span><span style="color:#E36209;">action</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">user.</span><span style="color:#6F42C1;">hasPrivilege</span><span style="color:#24292E;">(action)) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">throw</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Error</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 传统写法为</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// &#39;User &#39;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// + user.name</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// + &#39; is not authorized to do &#39;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// + action</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// + &#39;.&#39;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`User ${</span><span style="color:#24292E;">user</span><span style="color:#032F62;">.</span><span style="color:#24292E;">name</span><span style="color:#032F62;">} is not authorized to do ${</span><span style="color:#24292E;">action</span><span style="color:#032F62;">}.`</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>大括号内部可以放入任意的 JavaScript 表达式，可以进行运算，以及引用对象属性。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> y </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">`${</span><span style="color:#E1E4E8;">x</span><span style="color:#9ECBFF;">} + ${</span><span style="color:#E1E4E8;">y</span><span style="color:#9ECBFF;">} = ${</span><span style="color:#E1E4E8;">x</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">y</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;1 + 2 = 3&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">`${</span><span style="color:#E1E4E8;">x</span><span style="color:#9ECBFF;">} + ${</span><span style="color:#E1E4E8;">y</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">*</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">} = ${</span><span style="color:#E1E4E8;">x</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">y</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">*</span><span style="color:#9ECBFF;"> </span><span style="color:#79B8FF;">2</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;1 + 4 = 5&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> obj </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {x: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">, y: </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#9ECBFF;">`${</span><span style="color:#E1E4E8;">obj</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">x</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">obj</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">y</span><span style="color:#9ECBFF;">}`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;3&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> y </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">`${</span><span style="color:#24292E;">x</span><span style="color:#032F62;">} + ${</span><span style="color:#24292E;">y</span><span style="color:#032F62;">} = ${</span><span style="color:#24292E;">x</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">+</span><span style="color:#032F62;"> </span><span style="color:#24292E;">y</span><span style="color:#032F62;">}`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;1 + 2 = 3&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">`${</span><span style="color:#24292E;">x</span><span style="color:#032F62;">} + ${</span><span style="color:#24292E;">y</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">*</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">} = ${</span><span style="color:#24292E;">x</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">+</span><span style="color:#032F62;"> </span><span style="color:#24292E;">y</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">*</span><span style="color:#032F62;"> </span><span style="color:#005CC5;">2</span><span style="color:#032F62;">}`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;1 + 4 = 5&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {x: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, y: </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#032F62;">`${</span><span style="color:#24292E;">obj</span><span style="color:#032F62;">.</span><span style="color:#24292E;">x</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">+</span><span style="color:#032F62;"> </span><span style="color:#24292E;">obj</span><span style="color:#032F62;">.</span><span style="color:#24292E;">y</span><span style="color:#032F62;">}`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;3&quot;</span></span></code></pre></div><p>模板字符串之中还能调用函数。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;Hello World&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">`foo ${</span><span style="color:#B392F0;">fn</span><span style="color:#9ECBFF;">()</span><span style="color:#9ECBFF;">} bar`</span></span>
<span class="line"><span style="color:#6A737D;">// foo Hello World bar</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;Hello World&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">`foo ${</span><span style="color:#6F42C1;">fn</span><span style="color:#032F62;">()</span><span style="color:#032F62;">} bar`</span></span>
<span class="line"><span style="color:#6A737D;">// foo Hello World bar</span></span></code></pre></div><p>如果大括号中的值不是字符串，将按照一般的规则转为字符串。比如，大括号中是一个对象，将默认调用对象的<code>toString</code>方法。</p><p>如果模板字符串中的变量没有声明，将报错。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 变量place没有声明</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> msg </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`Hello, ${</span><span style="color:#E1E4E8;">place</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">// 报错</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 变量place没有声明</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> msg </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`Hello, ${</span><span style="color:#24292E;">place</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">// 报错</span></span></code></pre></div><p>由于模板字符串的大括号内部，就是执行 JavaScript 代码，因此如果大括号内部是一个字符串，将会原样输出。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">`Hello ${&#39;World&#39;}`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;Hello World&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">`Hello ${&#39;World&#39;}`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;Hello World&quot;</span></span></code></pre></div><p>模板字符串甚至还能嵌套。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tmpl</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">addrs</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;table&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  ${</span><span style="color:#E1E4E8;">addrs</span><span style="color:#9ECBFF;">.</span><span style="color:#B392F0;">map</span><span style="color:#9ECBFF;">(</span><span style="color:#79B8FF;">addr</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;tr&gt;&lt;td&gt;${</span><span style="color:#E1E4E8;">addr</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">first</span><span style="color:#9ECBFF;">}&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;tr&gt;&lt;td&gt;${</span><span style="color:#E1E4E8;">addr</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">last</span><span style="color:#9ECBFF;">}&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  `</span><span style="color:#9ECBFF;">).</span><span style="color:#B392F0;">join</span><span style="color:#9ECBFF;">(</span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#9ECBFF;">)</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;/table&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">`</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tmpl</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#E36209;">addrs</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">  &lt;table&gt;</span></span>
<span class="line"><span style="color:#032F62;">  ${</span><span style="color:#24292E;">addrs</span><span style="color:#032F62;">.</span><span style="color:#6F42C1;">map</span><span style="color:#032F62;">(</span><span style="color:#005CC5;">addr</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#032F62;"> </span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">    &lt;tr&gt;&lt;td&gt;${</span><span style="color:#24292E;">addr</span><span style="color:#032F62;">.</span><span style="color:#24292E;">first</span><span style="color:#032F62;">}&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#032F62;">    &lt;tr&gt;&lt;td&gt;${</span><span style="color:#24292E;">addr</span><span style="color:#032F62;">.</span><span style="color:#24292E;">last</span><span style="color:#032F62;">}&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#032F62;">  `</span><span style="color:#032F62;">).</span><span style="color:#6F42C1;">join</span><span style="color:#032F62;">(</span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#032F62;">)</span><span style="color:#032F62;">}</span></span>
<span class="line"><span style="color:#032F62;">  &lt;/table&gt;</span></span>
<span class="line"><span style="color:#032F62;">`</span><span style="color:#24292E;">;</span></span></code></pre></div><p>上面代码中，模板字符串的变量之中，又嵌入了另一个模板字符串，使用方法如下。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { first: </span><span style="color:#9ECBFF;">&#39;&lt;Jane&gt;&#39;</span><span style="color:#E1E4E8;">, last: </span><span style="color:#9ECBFF;">&#39;Bond&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { first: </span><span style="color:#9ECBFF;">&#39;Lars&#39;</span><span style="color:#E1E4E8;">, last: </span><span style="color:#9ECBFF;">&#39;&lt;Croft&gt;&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">tmpl</span><span style="color:#E1E4E8;">(data));</span></span>
<span class="line"><span style="color:#6A737D;">// &lt;table&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;tr&gt;&lt;td&gt;&lt;Jane&gt;&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;tr&gt;&lt;td&gt;Bond&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;tr&gt;&lt;td&gt;Lars&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;tr&gt;&lt;td&gt;&lt;Croft&gt;&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//</span></span>
<span class="line"><span style="color:#6A737D;">// &lt;/table&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">    { first: </span><span style="color:#032F62;">&#39;&lt;Jane&gt;&#39;</span><span style="color:#24292E;">, last: </span><span style="color:#032F62;">&#39;Bond&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { first: </span><span style="color:#032F62;">&#39;Lars&#39;</span><span style="color:#24292E;">, last: </span><span style="color:#032F62;">&#39;&lt;Croft&gt;&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">tmpl</span><span style="color:#24292E;">(data));</span></span>
<span class="line"><span style="color:#6A737D;">// &lt;table&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;tr&gt;&lt;td&gt;&lt;Jane&gt;&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;tr&gt;&lt;td&gt;Bond&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;tr&gt;&lt;td&gt;Lars&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;tr&gt;&lt;td&gt;&lt;Croft&gt;&lt;/td&gt;&lt;/tr&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//</span></span>
<span class="line"><span style="color:#6A737D;">// &lt;/table&gt;</span></span></code></pre></div><p>如果需要引用模板字符串本身，在需要时执行，可以写成函数。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">func</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">name</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`Hello ${</span><span style="color:#E1E4E8;">name</span><span style="color:#9ECBFF;">}!`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#B392F0;">func</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;Jack&#39;</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// &quot;Hello Jack!&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">func</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">name</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`Hello ${</span><span style="color:#24292E;">name</span><span style="color:#032F62;">}!`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6F42C1;">func</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Jack&#39;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// &quot;Hello Jack!&quot;</span></span></code></pre></div><p>上面代码中，模板字符串写成了一个函数的返回值。执行这个函数，就相当于执行这个模板字符串了。</p><h2 id="实例-模板编译" tabindex="-1">实例：模板编译 <a class="header-anchor" href="#实例-模板编译" aria-label="Permalink to &quot;实例：模板编译&quot;">​</a></h2><p>下面，我们来看一个通过模板字符串，生成正式模板的实例。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> template </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">&lt;ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;% for(let i=0; i &lt; data.supplies.length; i++) { %&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;li&gt;&lt;%= data.supplies[i] %&gt;&lt;/li&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;% } %&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">&lt;/ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">`</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> template </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">&lt;ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;% for(let i=0; i &lt; data.supplies.length; i++) { %&gt;</span></span>
<span class="line"><span style="color:#032F62;">    &lt;li&gt;&lt;%= data.supplies[i] %&gt;&lt;/li&gt;</span></span>
<span class="line"><span style="color:#032F62;">  &lt;% } %&gt;</span></span>
<span class="line"><span style="color:#032F62;">&lt;/ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">`</span><span style="color:#24292E;">;</span></span></code></pre></div><p>上面代码在模板字符串之中，放置了一个常规模板。该模板使用<code>&lt;%...%&gt;</code>放置 JavaScript 代码，使用<code>&lt;%= ... %&gt;</code>输出 JavaScript 表达式。</p><p>怎么编译这个模板字符串呢？</p><p>一种思路是将其转换为 JavaScript 表达式字符串。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">echo</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;&lt;ul&gt;&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i</span><span style="color:#F97583;">=</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> data.supplies.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">echo</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;&lt;li&gt;&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">echo</span><span style="color:#E1E4E8;">(data.supplies[i]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">echo</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;&lt;/li&gt;&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"><span style="color:#B392F0;">echo</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;&lt;/ul&gt;&#39;</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">echo</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;&lt;ul&gt;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> data.supplies.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">echo</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;&lt;li&gt;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">echo</span><span style="color:#24292E;">(data.supplies[i]);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">echo</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;&lt;/li&gt;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"><span style="color:#6F42C1;">echo</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;&lt;/ul&gt;&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><p>这个转换使用正则表达式就行了。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> evalExpr </span><span style="color:#F97583;">=</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&lt;%=(</span><span style="color:#79B8FF;">.</span><span style="color:#F97583;">+?</span><span style="color:#DBEDFF;">)%&gt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> expr </span><span style="color:#F97583;">=</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&lt;%(</span><span style="color:#79B8FF;">[\s\S]</span><span style="color:#F97583;">+?</span><span style="color:#DBEDFF;">)%&gt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">template </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> template</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(evalExpr, </span><span style="color:#9ECBFF;">&#39;`); </span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">  echo( $1 ); </span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">  echo(`&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(expr, </span><span style="color:#9ECBFF;">&#39;`); </span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;"> $1 </span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">  echo(`&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">template </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;echo(`&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> template </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;`);&#39;</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> evalExpr </span><span style="color:#D73A49;">=</span><span style="color:#032F62;"> /&lt;%=(</span><span style="color:#005CC5;">.</span><span style="color:#D73A49;">+?</span><span style="color:#032F62;">)%&gt;/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> expr </span><span style="color:#D73A49;">=</span><span style="color:#032F62;"> /&lt;%(</span><span style="color:#005CC5;">[\s\S]</span><span style="color:#D73A49;">+?</span><span style="color:#032F62;">)%&gt;/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">template </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> template</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(evalExpr, </span><span style="color:#032F62;">&#39;`); </span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">  echo( $1 ); </span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">  echo(`&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(expr, </span><span style="color:#032F62;">&#39;`); </span><span style="color:#005CC5;">\n</span><span style="color:#032F62;"> $1 </span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">  echo(`&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">template </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;echo(`&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> template </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;`);&#39;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>然后，将<code>template</code>封装在一个函数里面返回，就可以了。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> script </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#9ECBFF;">`(function parse(data){</span></span>
<span class="line"><span style="color:#9ECBFF;">  let output = &quot;&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">  function echo(html){</span></span>
<span class="line"><span style="color:#9ECBFF;">    output += html;</span></span>
<span class="line"><span style="color:#9ECBFF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">  ${</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">template</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">  return output;</span></span>
<span class="line"><span style="color:#9ECBFF;">})`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> script;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> script </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#032F62;">`(function parse(data){</span></span>
<span class="line"><span style="color:#032F62;">  let output = &quot;&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">  function echo(html){</span></span>
<span class="line"><span style="color:#032F62;">    output += html;</span></span>
<span class="line"><span style="color:#032F62;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">  ${</span><span style="color:#032F62;"> </span><span style="color:#24292E;">template</span><span style="color:#032F62;"> </span><span style="color:#032F62;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">  return output;</span></span>
<span class="line"><span style="color:#032F62;">})`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">return</span><span style="color:#24292E;"> script;</span></span></code></pre></div><p>将上面的内容拼装成一个模板编译函数<code>compile</code>。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">compile</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">template</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">evalExpr</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&lt;%=(</span><span style="color:#79B8FF;">.</span><span style="color:#F97583;">+?</span><span style="color:#DBEDFF;">)%&gt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">expr</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#DBEDFF;"> </span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&lt;%(</span><span style="color:#79B8FF;">[\s\S]</span><span style="color:#F97583;">+?</span><span style="color:#DBEDFF;">)%&gt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  template </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> template</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(evalExpr, </span><span style="color:#9ECBFF;">&#39;`); </span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">  echo( $1 ); </span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">  echo(`&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    .</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(expr, </span><span style="color:#9ECBFF;">&#39;`); </span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;"> $1 </span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">  echo(`&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  template </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;echo(`&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> template </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;`);&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> script </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">`(function parse(data){</span></span>
<span class="line"><span style="color:#9ECBFF;">    let output = &quot;&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">    function echo(html){</span></span>
<span class="line"><span style="color:#9ECBFF;">      output += html;</span></span>
<span class="line"><span style="color:#9ECBFF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">    ${</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">template</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">    return output;</span></span>
<span class="line"><span style="color:#9ECBFF;">  })`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> script;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">compile</span><span style="color:#24292E;">(</span><span style="color:#E36209;">template</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">evalExpr</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#032F62;"> /&lt;%=(</span><span style="color:#005CC5;">.</span><span style="color:#D73A49;">+?</span><span style="color:#032F62;">)%&gt;/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">expr</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#032F62;"> /&lt;%(</span><span style="color:#005CC5;">[\s\S]</span><span style="color:#D73A49;">+?</span><span style="color:#032F62;">)%&gt;/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  template </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> template</span></span>
<span class="line"><span style="color:#24292E;">    .</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(evalExpr, </span><span style="color:#032F62;">&#39;`); </span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">  echo( $1 ); </span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">  echo(`&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    .</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(expr, </span><span style="color:#032F62;">&#39;`); </span><span style="color:#005CC5;">\n</span><span style="color:#032F62;"> $1 </span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">  echo(`&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  template </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;echo(`&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> template </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;`);&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> script </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">`(function parse(data){</span></span>
<span class="line"><span style="color:#032F62;">    let output = &quot;&quot;;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">    function echo(html){</span></span>
<span class="line"><span style="color:#032F62;">      output += html;</span></span>
<span class="line"><span style="color:#032F62;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">    ${</span><span style="color:#032F62;"> </span><span style="color:#24292E;">template</span><span style="color:#032F62;"> </span><span style="color:#032F62;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">    return output;</span></span>
<span class="line"><span style="color:#032F62;">  })`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> script;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><code>compile</code>函数的用法如下。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> parse </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">eval</span><span style="color:#E1E4E8;">(</span><span style="color:#B392F0;">compile</span><span style="color:#E1E4E8;">(template));</span></span>
<span class="line"><span style="color:#E1E4E8;">div.innerHTML </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">parse</span><span style="color:#E1E4E8;">({ supplies: [ </span><span style="color:#9ECBFF;">&quot;broom&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;mop&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;cleaner&quot;</span><span style="color:#E1E4E8;"> ] });</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;ul&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;broom&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;mop&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;cleaner&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;/ul&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> parse </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">eval</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">compile</span><span style="color:#24292E;">(template));</span></span>
<span class="line"><span style="color:#24292E;">div.innerHTML </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">({ supplies: [ </span><span style="color:#032F62;">&quot;broom&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;mop&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;cleaner&quot;</span><span style="color:#24292E;"> ] });</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;ul&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;broom&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;mop&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//     &lt;li&gt;cleaner&lt;/li&gt;</span></span>
<span class="line"><span style="color:#6A737D;">//   &lt;/ul&gt;</span></span></code></pre></div><h2 id="标签模板" tabindex="-1">标签模板 <a class="header-anchor" href="#标签模板" aria-label="Permalink to &quot;标签模板&quot;">​</a></h2><p>模板字符串的功能，不仅仅是上面这些。它可以紧跟在一个函数名后面，该函数将被调用来处理这个模板字符串。这被称为“标签模板”功能（tagged template）。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">alert</span><span style="color:#9ECBFF;">`hello`</span></span>
<span class="line"><span style="color:#6A737D;">// 等同于</span></span>
<span class="line"><span style="color:#B392F0;">alert</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;hello&#39;</span><span style="color:#E1E4E8;">])</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">alert</span><span style="color:#032F62;">`hello`</span></span>
<span class="line"><span style="color:#6A737D;">// 等同于</span></span>
<span class="line"><span style="color:#6F42C1;">alert</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;hello&#39;</span><span style="color:#24292E;">])</span></span></code></pre></div><p>标签模板其实不是模板，而是函数调用的一种特殊形式。“标签”指的就是函数，紧跟在后面的模板字符串就是它的参数。</p><p>但是，如果模板字符里面有变量，就不是简单的调用了，而是会将模板字符串先处理成多个参数，再调用函数。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> a </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> b </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">tag</span><span style="color:#9ECBFF;">`Hello ${</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">a</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">b</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">} world ${</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">a</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">*</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">b</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">// 等同于</span></span>
<span class="line"><span style="color:#B392F0;">tag</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;Hello &#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39; world &#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">tag</span><span style="color:#032F62;">`Hello ${</span><span style="color:#032F62;"> </span><span style="color:#24292E;">a</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">+</span><span style="color:#032F62;"> </span><span style="color:#24292E;">b</span><span style="color:#032F62;"> </span><span style="color:#032F62;">} world ${</span><span style="color:#032F62;"> </span><span style="color:#24292E;">a</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">*</span><span style="color:#032F62;"> </span><span style="color:#24292E;">b</span><span style="color:#032F62;"> </span><span style="color:#032F62;">}`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">// 等同于</span></span>
<span class="line"><span style="color:#6F42C1;">tag</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;Hello &#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39; world &#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">], </span><span style="color:#005CC5;">15</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">50</span><span style="color:#24292E;">);</span></span></code></pre></div><p>上面代码中，模板字符串前面有一个标识名<code>tag</code>，它是一个函数。整个表达式的返回值，就是<code>tag</code>函数处理模板字符串后的返回值。</p><p>函数<code>tag</code>依次会接收到多个参数。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tag</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">stringArr</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">value1</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">value2</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 等同于</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tag</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">stringArr</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">...</span><span style="color:#FFAB70;">values</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tag</span><span style="color:#24292E;">(</span><span style="color:#E36209;">stringArr</span><span style="color:#24292E;">, </span><span style="color:#E36209;">value1</span><span style="color:#24292E;">, </span><span style="color:#E36209;">value2</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 等同于</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tag</span><span style="color:#24292E;">(</span><span style="color:#E36209;">stringArr</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">...</span><span style="color:#E36209;">values</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><code>tag</code>函数的第一个参数是一个数组，该数组的成员是模板字符串中那些没有变量替换的部分，也就是说，变量替换只发生在数组的第一个成员与第二个成员之间、第二个成员与第三个成员之间，以此类推。</p><p><code>tag</code>函数的其他参数，都是模板字符串各个变量被替换后的值。由于本例中，模板字符串含有两个变量，因此<code>tag</code>会接受到<code>value1</code>和<code>value2</code>两个参数。</p><p><code>tag</code>函数所有参数的实际值如下。</p><ul><li>第一个参数：<code>[&#39;Hello &#39;, &#39; world &#39;, &#39;&#39;]</code></li><li>第二个参数: 15</li><li>第三个参数：50</li></ul><p>也就是说，<code>tag</code>函数实际上以下面的形式调用。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">tag</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&#39;Hello &#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39; world &#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">], </span><span style="color:#79B8FF;">15</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">tag</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&#39;Hello &#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39; world &#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">], </span><span style="color:#005CC5;">15</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">50</span><span style="color:#24292E;">)</span></span></code></pre></div><p>我们可以按照需要编写<code>tag</code>函数的代码。下面是<code>tag</code>函数的一种写法，以及运行结果。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> a </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> b </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tag</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">s</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">v1</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">v2</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(s[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(s[</span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(s[</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(v1);</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(v2);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;OK&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">tag</span><span style="color:#9ECBFF;">`Hello ${</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">a</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">+</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">b</span><span style="color:#9ECBFF;"> </span><span style="color:#9ECBFF;">} world ${</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">a</span><span style="color:#9ECBFF;"> </span><span style="color:#F97583;">*</span><span style="color:#9ECBFF;"> </span><span style="color:#E1E4E8;">b</span><span style="color:#9ECBFF;">}`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;Hello &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; world &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// 15</span></span>
<span class="line"><span style="color:#6A737D;">// 50</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;OK&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tag</span><span style="color:#24292E;">(</span><span style="color:#E36209;">s</span><span style="color:#24292E;">, </span><span style="color:#E36209;">v1</span><span style="color:#24292E;">, </span><span style="color:#E36209;">v2</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(s[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(s[</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(s[</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(v1);</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(v2);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;OK&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">tag</span><span style="color:#032F62;">`Hello ${</span><span style="color:#032F62;"> </span><span style="color:#24292E;">a</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">+</span><span style="color:#032F62;"> </span><span style="color:#24292E;">b</span><span style="color:#032F62;"> </span><span style="color:#032F62;">} world ${</span><span style="color:#032F62;"> </span><span style="color:#24292E;">a</span><span style="color:#032F62;"> </span><span style="color:#D73A49;">*</span><span style="color:#032F62;"> </span><span style="color:#24292E;">b</span><span style="color:#032F62;">}`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;Hello &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot; world &quot;</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;&quot;</span></span>
<span class="line"><span style="color:#6A737D;">// 15</span></span>
<span class="line"><span style="color:#6A737D;">// 50</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;OK&quot;</span></span></code></pre></div><p>下面是一个更复杂的例子。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> total </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">30</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> msg </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">passthru</span><span style="color:#9ECBFF;">`The total is ${</span><span style="color:#E1E4E8;">total</span><span style="color:#9ECBFF;">} (${</span><span style="color:#E1E4E8;">total</span><span style="color:#F97583;">*</span><span style="color:#79B8FF;">1.05</span><span style="color:#9ECBFF;">} with tax)`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">passthru</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">literals</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> result </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">while</span><span style="color:#E1E4E8;"> (i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> literals.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    result </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> literals[i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">arguments</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      result </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">arguments</span><span style="color:#E1E4E8;">[i];</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> result;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">msg </span><span style="color:#6A737D;">// &quot;The total is 30 (31.5 with tax)&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> total </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> msg </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">passthru</span><span style="color:#032F62;">`The total is ${</span><span style="color:#24292E;">total</span><span style="color:#032F62;">} (${</span><span style="color:#24292E;">total</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">1.05</span><span style="color:#032F62;">} with tax)`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">passthru</span><span style="color:#24292E;">(</span><span style="color:#E36209;">literals</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> (i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> literals.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    result </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> literals[i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arguments</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      result </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arguments</span><span style="color:#24292E;">[i];</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">msg </span><span style="color:#6A737D;">// &quot;The total is 30 (31.5 with tax)&quot;</span></span></code></pre></div><p>上面这个例子展示了，如何将各个参数按照原来的位置拼合回去。</p><p><code>passthru</code>函数采用 rest 参数的写法如下。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">passthru</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">literals</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">...</span><span style="color:#FFAB70;">values</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> output </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> index;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (index </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">; index </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> values.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">; index</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    output </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> literals[index] </span><span style="color:#F97583;">+</span><span style="color:#E1E4E8;"> values[index];</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  output </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> literals[index]</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> output;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">passthru</span><span style="color:#24292E;">(</span><span style="color:#E36209;">literals</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">...</span><span style="color:#E36209;">values</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> output </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> index;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (index </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; index </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> values.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">; index</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    output </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> literals[index] </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> values[index];</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  output </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> literals[index]</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> output;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>“标签模板”的一个重要应用，就是过滤 HTML 字符串，防止用户输入恶意内容。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> message </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">SaferHTML</span><span style="color:#9ECBFF;">`&lt;p&gt;${</span><span style="color:#E1E4E8;">sender</span><span style="color:#9ECBFF;">} has sent you a message.&lt;/p&gt;`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SaferHTML</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">templateData</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> s </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> templateData[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">];</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> i </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">; i </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">arguments</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">; i</span><span style="color:#F97583;">++</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> arg </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">String</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">arguments</span><span style="color:#E1E4E8;">[i]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// Escape special characters in the substitution.</span></span>
<span class="line"><span style="color:#E1E4E8;">    s </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> arg.</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&amp;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;&amp;amp;&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">            .</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&lt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;&amp;lt;&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">            .</span><span style="color:#B392F0;">replace</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">/</span><span style="color:#DBEDFF;">&gt;</span><span style="color:#9ECBFF;">/</span><span style="color:#F97583;">g</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;&amp;gt;&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// Don&#39;t escape special characters in the template.</span></span>
<span class="line"><span style="color:#E1E4E8;">    s </span><span style="color:#F97583;">+=</span><span style="color:#E1E4E8;"> templateData[i];</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> s;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> message </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">SaferHTML</span><span style="color:#032F62;">`&lt;p&gt;${</span><span style="color:#24292E;">sender</span><span style="color:#032F62;">} has sent you a message.&lt;/p&gt;`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SaferHTML</span><span style="color:#24292E;">(</span><span style="color:#E36209;">templateData</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> s </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> templateData[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arguments</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> arg </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">String</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">arguments</span><span style="color:#24292E;">[i]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// Escape special characters in the substitution.</span></span>
<span class="line"><span style="color:#24292E;">    s </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> arg.</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/&amp;/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;&amp;amp;&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            .</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/&lt;/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;&amp;lt;&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            .</span><span style="color:#6F42C1;">replace</span><span style="color:#24292E;">(</span><span style="color:#032F62;">/&gt;/</span><span style="color:#D73A49;">g</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;&amp;gt;&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// Don&#39;t escape special characters in the template.</span></span>
<span class="line"><span style="color:#24292E;">    s </span><span style="color:#D73A49;">+=</span><span style="color:#24292E;"> templateData[i];</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> s;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>上面代码中，<code>sender</code>变量往往是用户提供的，经过<code>SaferHTML</code>函数处理，里面的特殊字符都会被转义。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> sender </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;&lt;script&gt;alert(&quot;abc&quot;)&lt;/script&gt;&#39;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 恶意代码</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> message </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">SaferHTML</span><span style="color:#9ECBFF;">`&lt;p&gt;${</span><span style="color:#E1E4E8;">sender</span><span style="color:#9ECBFF;">} has sent you a message.&lt;/p&gt;`</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">message</span></span>
<span class="line"><span style="color:#6A737D;">// &lt;p&gt;&amp;lt;script&amp;gt;alert(&quot;abc&quot;)&amp;lt;/script&amp;gt; has sent you a message.&lt;/p&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> sender </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&lt;script&gt;alert(&quot;abc&quot;)&lt;/script&gt;&#39;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// 恶意代码</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> message </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SaferHTML</span><span style="color:#032F62;">`&lt;p&gt;${</span><span style="color:#24292E;">sender</span><span style="color:#032F62;">} has sent you a message.&lt;/p&gt;`</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">message</span></span>
<span class="line"><span style="color:#6A737D;">// &lt;p&gt;&amp;lt;script&amp;gt;alert(&quot;abc&quot;)&amp;lt;/script&amp;gt; has sent you a message.&lt;/p&gt;</span></span></code></pre></div><p>标签模板的另一个应用，就是多语言转换（国际化处理）。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">i18n</span><span style="color:#9ECBFF;">`Welcome to ${</span><span style="color:#E1E4E8;">siteName</span><span style="color:#9ECBFF;">}, you are visitor number ${</span><span style="color:#E1E4E8;">visitorNumber</span><span style="color:#9ECBFF;">}!`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;欢迎访问xxx，您是第xxxx位访问者！&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">i18n</span><span style="color:#032F62;">`Welcome to ${</span><span style="color:#24292E;">siteName</span><span style="color:#032F62;">}, you are visitor number ${</span><span style="color:#24292E;">visitorNumber</span><span style="color:#032F62;">}!`</span></span>
<span class="line"><span style="color:#6A737D;">// &quot;欢迎访问xxx，您是第xxxx位访问者！&quot;</span></span></code></pre></div><p>模板字符串本身并不能取代 Mustache 之类的模板库，因为没有条件判断和循环处理功能，但是通过标签函数，你可以自己添加这些功能。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// 下面的hashTemplate函数</span></span>
<span class="line"><span style="color:#6A737D;">// 是一个自定义的模板处理函数</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> libraryHtml </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">hashTemplate</span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    #for book in ${</span><span style="color:#E1E4E8;">myBooks</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#9ECBFF;">      &lt;li&gt;&lt;i&gt;#{book.title}&lt;/i&gt; by #{book.author}&lt;/li&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    #end</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;/ul&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">`</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 下面的hashTemplate函数</span></span>
<span class="line"><span style="color:#6A737D;">// 是一个自定义的模板处理函数</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> libraryHtml </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">hashTemplate</span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">  &lt;ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">    #for book in ${</span><span style="color:#24292E;">myBooks</span><span style="color:#032F62;">}</span></span>
<span class="line"><span style="color:#032F62;">      &lt;li&gt;&lt;i&gt;#{book.title}&lt;/i&gt; by #{book.author}&lt;/li&gt;</span></span>
<span class="line"><span style="color:#032F62;">    #end</span></span>
<span class="line"><span style="color:#032F62;">  &lt;/ul&gt;</span></span>
<span class="line"><span style="color:#032F62;">`</span><span style="color:#24292E;">;</span></span></code></pre></div><p>除此之外，你甚至可以使用标签模板，在 JavaScript 语言之中嵌入其他语言。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">jsx</span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">  &lt;div&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">    &lt;input</span></span>
<span class="line"><span style="color:#9ECBFF;">      ref=&#39;input&#39;</span></span>
<span class="line"><span style="color:#9ECBFF;">      onChange=&#39;${</span><span style="color:#79B8FF;">this</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">handleChange</span><span style="color:#9ECBFF;">}&#39;</span></span>
<span class="line"><span style="color:#9ECBFF;">      defaultValue=&#39;${</span><span style="color:#79B8FF;">this</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">state</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">value</span><span style="color:#9ECBFF;">}&#39; /&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">      ${</span><span style="color:#79B8FF;">this</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">state</span><span style="color:#9ECBFF;">.</span><span style="color:#E1E4E8;">value</span><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#9ECBFF;">   &lt;/div&gt;</span></span>
<span class="line"><span style="color:#9ECBFF;">`</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">jsx</span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">  &lt;div&gt;</span></span>
<span class="line"><span style="color:#032F62;">    &lt;input</span></span>
<span class="line"><span style="color:#032F62;">      ref=&#39;input&#39;</span></span>
<span class="line"><span style="color:#032F62;">      onChange=&#39;${</span><span style="color:#005CC5;">this</span><span style="color:#032F62;">.</span><span style="color:#24292E;">handleChange</span><span style="color:#032F62;">}&#39;</span></span>
<span class="line"><span style="color:#032F62;">      defaultValue=&#39;${</span><span style="color:#005CC5;">this</span><span style="color:#032F62;">.</span><span style="color:#24292E;">state</span><span style="color:#032F62;">.</span><span style="color:#24292E;">value</span><span style="color:#032F62;">}&#39; /&gt;</span></span>
<span class="line"><span style="color:#032F62;">      ${</span><span style="color:#005CC5;">this</span><span style="color:#032F62;">.</span><span style="color:#24292E;">state</span><span style="color:#032F62;">.</span><span style="color:#24292E;">value</span><span style="color:#032F62;">}</span></span>
<span class="line"><span style="color:#032F62;">   &lt;/div&gt;</span></span>
<span class="line"><span style="color:#032F62;">`</span></span></code></pre></div><p>上面的代码通过<code>jsx</code>函数，将一个 DOM 字符串转为 React 对象。你可以在 GitHub 找到<code>jsx</code>函数的<a href="https://gist.github.com/lygaret/a68220defa69174bdec5" target="_blank" rel="noreferrer">具体实现</a>。</p><p>下面则是一个假想的例子，通过<code>java</code>函数，在 JavaScript 代码之中运行 Java 代码。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">java</span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#9ECBFF;">class HelloWorldApp {</span></span>
<span class="line"><span style="color:#9ECBFF;">  public static void main(String[] args) {</span></span>
<span class="line"><span style="color:#9ECBFF;">    System.out.println(&quot;Hello World!&quot;); // Display the string.</span></span>
<span class="line"><span style="color:#9ECBFF;">  }</span></span>
<span class="line"><span style="color:#9ECBFF;">}</span></span>
<span class="line"><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#E1E4E8;">HelloWorldApp.</span><span style="color:#B392F0;">main</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">java</span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#032F62;">class HelloWorldApp {</span></span>
<span class="line"><span style="color:#032F62;">  public static void main(String[] args) {</span></span>
<span class="line"><span style="color:#032F62;">    System.out.println(&quot;Hello World!&quot;); // Display the string.</span></span>
<span class="line"><span style="color:#032F62;">  }</span></span>
<span class="line"><span style="color:#032F62;">}</span></span>
<span class="line"><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#24292E;">HelloWorldApp.</span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">();</span></span></code></pre></div><p>模板处理函数的第一个参数（模板字符串数组），还有一个<code>raw</code>属性。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#9ECBFF;">`123`</span></span>
<span class="line"><span style="color:#6A737D;">// [&quot;123&quot;, raw: Array[1]]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#032F62;">`123`</span></span>
<span class="line"><span style="color:#6A737D;">// [&quot;123&quot;, raw: Array[1]]</span></span></code></pre></div><p>上面代码中，<code>console.log</code>接受的参数，实际上是一个数组。该数组有一个<code>raw</code>属性，保存的是转义后的原字符串。</p><p>请看下面的例子。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">tag</span><span style="color:#9ECBFF;">`First line</span><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">Second line`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tag</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">strings</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(strings.raw[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// strings.raw[0] 为 &quot;First line\\nSecond line&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 打印输出 &quot;First line\nSecond line&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">tag</span><span style="color:#032F62;">`First line</span><span style="color:#005CC5;">\n</span><span style="color:#032F62;">Second line`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tag</span><span style="color:#24292E;">(</span><span style="color:#E36209;">strings</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(strings.raw[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">]);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// strings.raw[0] 为 &quot;First line\\nSecond line&quot;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 打印输出 &quot;First line\nSecond line&quot;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>上面代码中，<code>tag</code>函数的第一个参数<code>strings</code>，有一个<code>raw</code>属性，也指向一个数组。该数组的成员与<code>strings</code>数组完全一致。比如，<code>strings</code>数组是<code>[&quot;First line\nSecond line&quot;]</code>，那么<code>strings.raw</code>数组就是<code>[&quot;First line\\nSecond line&quot;]</code>。两者唯一的区别，就是字符串里面的斜杠都被转义了。比如，strings.raw 数组会将<code>\n</code>视为<code>\\</code>和<code>n</code>两个字符，而不是换行符。这是为了方便取得转义之前的原始模板而设计的。</p><h2 id="模板字符串的限制" tabindex="-1">模板字符串的限制 <a class="header-anchor" href="#模板字符串的限制" aria-label="Permalink to &quot;模板字符串的限制&quot;">​</a></h2><p>前面提到标签模板里面，可以内嵌其他语言。但是，模板字符串默认会将字符串转义，导致无法嵌入其他语言。</p><p>举例来说，标签模板里面可以嵌入 LaTEX 语言。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">latex</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">strings</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> document </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">latex</span><span style="color:#9ECBFF;">`</span></span>
<span class="line"><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">ewcommand{</span><span style="color:#79B8FF;">\f</span><span style="color:#9ECBFF;">un}{</span><span style="color:#79B8FF;">\t</span><span style="color:#9ECBFF;">extbf{Fun!}}  // 正常工作</span></span>
<span class="line"><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">ewcommand{</span><span style="color:#79B8FF;">\u</span><span style="color:#9ECBFF;">nicode}{</span><span style="color:#79B8FF;">\t</span><span style="color:#9ECBFF;">extbf{Unicode!}} // 报错</span></span>
<span class="line"><span style="color:#79B8FF;">\n</span><span style="color:#9ECBFF;">ewcommand{</span><span style="color:#79B8FF;">\x</span><span style="color:#9ECBFF;">erxes}{</span><span style="color:#79B8FF;">\t</span><span style="color:#9ECBFF;">extbf{King!}} // 报错</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;">Breve over the h goes </span><span style="color:#79B8FF;">\u</span><span style="color:#9ECBFF;">{h}ere // 报错</span></span>
<span class="line"><span style="color:#9ECBFF;">`</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">latex</span><span style="color:#24292E;">(</span><span style="color:#E36209;">strings</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// ...</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> document </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">latex</span><span style="color:#032F62;">`</span></span>
<span class="line"><span style="color:#005CC5;">\n</span><span style="color:#032F62;">ewcommand{</span><span style="color:#005CC5;">\f</span><span style="color:#032F62;">un}{</span><span style="color:#005CC5;">\t</span><span style="color:#032F62;">extbf{Fun!}}  // 正常工作</span></span>
<span class="line"><span style="color:#005CC5;">\n</span><span style="color:#032F62;">ewcommand{</span><span style="color:#005CC5;">\u</span><span style="color:#032F62;">nicode}{</span><span style="color:#005CC5;">\t</span><span style="color:#032F62;">extbf{Unicode!}} // 报错</span></span>
<span class="line"><span style="color:#005CC5;">\n</span><span style="color:#032F62;">ewcommand{</span><span style="color:#005CC5;">\x</span><span style="color:#032F62;">erxes}{</span><span style="color:#005CC5;">\t</span><span style="color:#032F62;">extbf{King!}} // 报错</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62;">Breve over the h goes </span><span style="color:#005CC5;">\u</span><span style="color:#032F62;">{h}ere // 报错</span></span>
<span class="line"><span style="color:#032F62;">`</span></span></code></pre></div><p>上面代码中，变量<code>document</code>内嵌的模板字符串，对于 LaTEX 语言来说完全是合法的，但是 JavaScript 引擎会报错。原因就在于字符串的转义。</p><p>模板字符串会将<code>\u00FF</code>和<code>\u{42}</code>当作 Unicode 字符进行转义，所以<code>\unicode</code>解析时报错；而<code>\x56</code>会被当作十六进制字符串转义，所以<code>\xerxes</code>会报错。也就是说，<code>\u</code>和<code>\x</code>在 LaTEX 里面有特殊含义，但是 JavaScript 将它们转义了。</p><p>为了解决这个问题，ES2018 <a href="https://tc39.github.io/proposal-template-literal-revision/" target="_blank" rel="noreferrer">放松</a>了对标签模板里面的字符串转义的限制。如果遇到不合法的字符串转义，就返回<code>undefined</code>，而不是报错，并且从<code>raw</code>属性上面可以得到原始字符串。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tag</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">strs</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  strs[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">undefined</span></span>
<span class="line"><span style="color:#E1E4E8;">  strs.raw[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">] </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;</span><span style="color:#79B8FF;">\\</span><span style="color:#9ECBFF;">unicode and </span><span style="color:#79B8FF;">\\</span><span style="color:#9ECBFF;">u{55}&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#B392F0;">tag</span><span style="color:#9ECBFF;">`</span><span style="color:#79B8FF;">\u</span><span style="color:#9ECBFF;">nicode and </span><span style="color:#79B8FF;">\u{55}</span><span style="color:#9ECBFF;">`</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tag</span><span style="color:#24292E;">(</span><span style="color:#E36209;">strs</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  strs[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">undefined</span></span>
<span class="line"><span style="color:#24292E;">  strs.raw[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">] </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;</span><span style="color:#005CC5;">\\</span><span style="color:#032F62;">unicode and </span><span style="color:#005CC5;">\\</span><span style="color:#032F62;">u{55}&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">tag</span><span style="color:#032F62;">`</span><span style="color:#005CC5;">\u</span><span style="color:#032F62;">nicode and </span><span style="color:#005CC5;">\u{55}</span><span style="color:#032F62;">`</span></span></code></pre></div><p>上面代码中，模板字符串原本是应该报错的，但是由于放松了对字符串转义的限制，所以不报错了，JavaScript 引擎将第一个字符设置为<code>undefined</code>，但是<code>raw</code>属性依然可以得到原始字符串，因此<code>tag</code>函数还是可以对原字符串进行处理。</p><p>注意，这种对字符串转义的放松，只在标签模板解析字符串时生效，不是标签模板的场合，依然会报错。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> bad </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">`bad escape sequence: </span><span style="color:#79B8FF;">\u</span><span style="color:#9ECBFF;">nicode`</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// 报错</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> bad </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`bad escape sequence: </span><span style="color:#005CC5;">\u</span><span style="color:#032F62;">nicode`</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// 报错</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-a2d931e4><!--[--><!--]--><div class="edit-info" data-v-a2d931e4><div class="edit-link" data-v-a2d931e4><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/vuejs/vitepress/edit/main/docs/thirdpartys/es6tutorial/docs/string.md" target="_blank" rel="noreferrer" data-v-a2d931e4><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-a2d931e4><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page<!--]--></a></div><!----></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-9d8abc1e data-v-e4279f1c><div class="container" data-v-e4279f1c><p class="message" data-v-e4279f1c>Released under the MIT License.</p><p class="copyright" data-v-e4279f1c>Copyright © 2018-present Naparte</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"books_p1 阮一峰的ts教程_16.namespace.md\":\"48ccf20e\",\"books_p1 阮一峰的ts教程_12.泛型.md\":\"8ac0d9c4\",\"books_p1 阮一峰的ts教程_26.tsc 命令.md\":\"5938e1d9\",\"books_p1 阮一峰的ts教程_15.模块.md\":\"2d0c540e\",\"books_p1 阮一峰的ts教程_13.enum 类型.md\":\"8acb8192\",\"books_p1 阮一峰的ts教程_2.基本用法.md\":\"057d28fa\",\"books_p1 阮一峰的ts教程_6.元组.md\":\"5e7cc6ff\",\"books_p1 阮一峰的ts教程_18.装饰器（旧语法）.md\":\"06c8256c\",\"interviewquestions_p3 八股文_16.http 系列.md\":\"dfa309bf\",\"interviewquestions_p3 八股文_17.typescript 系列.md\":\"e9fce3d7\",\"interviewquestions_p3 八股文_18.设计模式系列.md\":\"448199de\",\"interviewquestions_p3 八股文_2.css.md\":\"45c1cef5\",\"interviewquestions_p3 八股文_3.html.md\":\"6a0033dc\",\"interviewquestions_p3 八股文_15.webpack 系列.md\":\"6f0a0990\",\"books_p2 阮一峰的es6教程_26.编程风格.md\":\"c8e725f6\",\"interviewquestions_p3 八股文_14.css 系列.md\":\"d98cb3ad\",\"deepunderstanding_p1 深入理解系列_11.前端鉴权.md\":\"c204a2d4\",\"books_p1 阮一峰的ts教程_25.tsconfig.json 文件.md\":\"92722311\",\"deepunderstanding_p3 方案思路系列_3.换肤原理.md\":\"879a153c\",\"deepunderstanding_p3 方案思路系列_4.组件库按需加载.md\":\"bc0a7da6\",\"books_p1 阮一峰的ts教程_8.函数.md\":\"11a378c4\",\"thirdpartys_es6tutorial_app_bower_components_marked_doc_broken.md\":\"03ecbf3b\",\"interviewquestions_p3 八股文_4.javascript.md\":\"7454bc40\",\"thirdpartys_es6tutorial_app_bower_components_normalize-css_readme.md\":\"8b5c0bf9\",\"thirdpartys_es6tutorial_app_bower_components_marked_doc_todo.md\":\"0ebaeec8\",\"thirdpartys_es6tutorial_app_bower_components_normalize-css_license.md\":\"ec13ad63\",\"miscellaneoustalk_p1 概念系列_1.库 vs 框架 vs 平台.md\":\"e49c1f96\",\"miscellaneoustalk_p1 概念系列_10.前端质量保障.md\":\"fa981bce\",\"miscellaneoustalk_p1 概念系列_11.如何做技术规划.md\":\"62ee97c7\",\"miscellaneoustalk_p1 概念系列_12.根因分析.md\":\"71fcfc89\",\"miscellaneoustalk_p1 概念系列_13.前端工程化.md\":\"98976dfa\",\"miscellaneoustalk_p1 概念系列_14.webpack vs vite.md\":\"33e01a75\",\"miscellaneoustalk_p1 概念系列_15.flex布局.md\":\"045b3136\",\"miscellaneoustalk_p1 概念系列_16.performance.md\":\"15688049\",\"miscellaneoustalk_p1 概念系列_17.http 状态码.md\":\"fd11405f\",\"miscellaneoustalk_p1 概念系列_18.前端知识图谱.md\":\"ee66df13\",\"miscellaneoustalk_p1 概念系列_19.微前端.md\":\"0e689104\",\"miscellaneoustalk_p1 概念系列_2.mvc vs mvp vs mvvm.md\":\"fb39a936\",\"miscellaneoustalk_p1 概念系列_20.webpack 核心原理.md\":\"d9f501b3\",\"miscellaneoustalk_p1 概念系列_21.webpack分包策略.md\":\"9e503d4f\",\"miscellaneoustalk_p1 概念系列_3.webpack loader vs plugin.md\":\"61bf64f2\",\"miscellaneoustalk_p1 概念系列_4.npm vs yarn vs pnpm.md\":\"09fcbee6\",\"miscellaneoustalk_p1 概念系列_5.前端鉴权.md\":\"2118cf42\",\"miscellaneoustalk_p1 概念系列_6.babel工具包概览.md\":\"8f4fb15d\",\"miscellaneoustalk_观感_前端已死，前端永生.md\":\"8e9d766a\",\"interviewquestions_p3 八股文_面试14问.md\":\"671455dc\",\"miscellaneoustalk_p2 源码系列_尤雨溪-reactive.md\":\"92757f97\",\"miscellaneoustalk_p2 源码系列_vue3概览.md\":\"16582d4a\",\"miscellaneoustalk_p2 源码系列_尤雨溪-vdom.md\":\"b2bb9775\",\"miscellaneoustalk_p3 你不知道的javascript_2.ecmascript规范.md\":\"3ea7b39f\",\"miscellaneoustalk_p3 你不知道的javascript_3.fetch请求终止.md\":\"696430bf\",\"miscellaneoustalk_p3 你不知道的javascript_4.判断浏览器是否支持webp.md\":\"74f8ae4e\",\"miscellaneoustalk_p3 你不知道的javascript_5.requestidlecallback.md\":\"94834150\",\"miscellaneoustalk_p3 你不知道的javascript_6.sendbeacon.md\":\"d60956f7\",\"toolkit_每日工具库_8.patch-package.md\":\"d209c902\",\"thirdpartys_es6tutorial_docs_class-extends.md\":\"5df5ca8c\",\"miscellaneoustalk_p1 概念系列_7.ast节点概念.md\":\"f39425e1\",\"miscellaneoustalk_p1 概念系列_8.ai 提示创建器.md\":\"bced68d5\",\"miscellaneoustalk_p1 概念系列_9.saas.md\":\"f6a1ee8f\",\"thirdpartys_es6tutorial_docs_acknowledgment.md\":\"e004d1bd\",\"miscellaneoustalk_p2 源码系列_1.nexttick.md\":\"16d494cf\",\"thirdpartys_es6tutorial_docs_async.md\":\"d9d44016\",\"thirdpartys_es6tutorial_docs_iterator.md\":\"5adf7e5a\",\"books_p2 阮一峰的es6教程_15.proxy.md\":\"ec463167\",\"deepunderstanding_p2 手写系列_6.手写 promise.md\":\"b91ee37d\",\"deepunderstanding_p4 读书总结_1.图解http.md\":\"ce39c48b\",\"miscellaneoustalk_todo.md\":\"56413738\",\"miscellaneoustalk_参考文献.md\":\"cdb54fa1\",\"technologyexploration_前端技术探索_1.treeshaking.md\":\"0bbf8add\",\"thirdpartys_es6tutorial_docs_let.md\":\"e2ab0a71\",\"miscellaneoustalk_p3 你不知道的javascript_99.技巧类.md\":\"cf6e92ff\",\"miscellaneoustalk_p4 工具使用_git多账号管理.md\":\"8ae687f8\",\"interviewquestions_p3 八股文_6.性能优化.md\":\"1a3fb7d2\",\"technologyexploration_前端技术探索_8.原子化css.md\":\"1e3c72ed\",\"technologyexploration_前端技术探索_9.浏览器指纹.md\":\"06fee23b\",\"toolkit_每日工具库_1.madge.md\":\"0c9a7e40\",\"books_p1 阮一峰的ts教程_1.简介.md\":\"289ef0d6\",\"miscellaneoustalk_p3 你不知道的javascript_1.模板字符串.md\":\"5077993b\",\"books_p1 阮一峰的ts教程_24.注释指令.md\":\"7a5ee92d\",\"thirdpartys_es6tutorial_docs_destructuring.md\":\"e11e63ec\",\"interviewquestions_p3 八股文_19.算法与数据结构系列.md\":\"7bf0a3a9\",\"interviewquestions_p2 手写题目_5.大数相加.md\":\"c5bddcbf\",\"interviewquestions_p3 八股文_1.常见问题.md\":\"1ad54a0e\",\"interviewquestions_p3 八股文_bytedance.md\":\"6ca18b94\",\"interviewquestions_p3 八股文_11.vue3 系列.md\":\"d8ae325e\",\"thirdpartys_es6tutorial_docs_array.md\":\"63a00e31\",\"toolkit_每日工具库_10.husky.md\":\"7abac5c9\",\"technologyexploration_前端技术探索_2.cssmodule.md\":\"d9707fe3\",\"books_p1 阮一峰的ts教程_9.对象.md\":\"5169f3b5\",\"thirdpartys_es6tutorial_sidebar.md\":\"d9e317a2\",\"thirdpartys_es6tutorial_docs_reference.md\":\"a3b9ca12\",\"thirdpartys_es6tutorial_docs_regex.md\":\"80f6e561\",\"toolkit_每日工具库_11.lint-staged.md\":\"ed09de0c\",\"deepunderstanding_p2 手写系列_10.排序算法.md\":\"917e2558\",\"interviewquestions_p3 八股文_12.javascript 系列.md\":\"a56ec97d\",\"interviewquestions_p3 八股文_13.es6 系列.md\":\"1cf4044f\",\"toolkit_每日工具库_13.prettier.md\":\"9503ad75\",\"toolkit_每日工具库_15.micromatch.md\":\"14619e8f\",\"thirdpartys_typescript-tutorial_docs_array.md\":\"94ea90ef\",\"thirdpartys_typescript-tutorial_docs_any.md\":\"345a6cef\",\"thirdpartys_typescript-tutorial_docs_basic.md\":\"e240da4c\",\"books_p2 阮一峰的es6教程_6.正则的扩展.md\":\"daa0def2\",\"toolkit_每日工具库_19.jsdom.md\":\"36299adf\",\"toolkit_每日工具库_20.openapi-codegen-typescript.md\":\"76d34169\",\"toolkit_每日工具库_22.pdfjs.md\":\"72b2579d\",\"toolkit_每日工具库_4.feed.md\":\"96b8b84c\",\"thirdpartys_es6tutorial_docs_style.md\":\"6db06dec\",\"thirdpartys_es6tutorial_docs_intro.md\":\"fb353dc5\",\"thirdpartys_es6tutorial_docs_function.md\":\"f96eec9a\",\"interviewquestions_p1 经验总结_字节-infra.md\":\"9cc1cd58\",\"thirdpartys_es6tutorial_docs_mixin.md\":\"4ad7e5c1\",\"thirdpartys_typescript-tutorial_readme.md\":\"969da172\",\"thirdpartys_es6tutorial_docs_number.md\":\"da05c26a\",\"interviewquestions_p1 经验总结_乐信.md\":\"d340389f\",\"books_p1 阮一峰的ts教程_7.symbol 类型.md\":\"2577a6e3\",\"thirdpartys_typescript-tutorial_docs_assert.md\":\"1b3c861a\",\"books_p2 阮一峰的es6教程_12.运算符的扩展.md\":\"773b4a6f\",\"deepunderstanding_p1 深入理解系列_7.js继承的多种方式.md\":\"fee42ddf\",\"deepunderstanding_p2 手写系列_4.手写 call_apply_bind.md\":\"4eb85faf\",\"interviewquestions_p3 八股文_10.vue 系列.md\":\"5638b282\",\"thirdpartys_typescript-tutorial_docs_enum.md\":\"687c1d23\",\"interviewquestions_p1 经验总结_shopee.md\":\"dfa0c920\",\"thirdpartys_es6tutorial_docs_promise.md\":\"8d4fa25e\",\"toolkit_每日工具库_6.commander.md\":\"f8013cbc\",\"deepunderstanding_p1 深入理解系列_3.浏览器工作原理.md\":\"51983fee\",\"toolkit_每日工具库_12.npm-run-all2.md\":\"27896017\",\"thirdpartys_es6tutorial_docs_class.md\":\"af1433da\",\"toolkit_每日工具库_9.picocolors.md\":\"5b52b56d\",\"miscellaneoustalk_p2 源码系列_2.mixin.md\":\"712cef0b\",\"thirdpartys_es6tutorial_docs_generator-async.md\":\"8daeb7d5\",\"books_p2 阮一峰的es6教程_29.arraybuffer.md\":\"3a5d0be9\",\"books_p1 阮一峰的ts教程_22.类型映射.md\":\"95a1452c\",\"thirdpartys_es6tutorial_readme.md\":\"744e4512\",\"interviewquestions_p2 手写题目_3.约瑟夫问题.md\":\"4ad04182\",\"thirdpartys_typescript-tutorial_docs_intro.md\":\"2b641be3\",\"thirdpartys_typescript-tutorial_docs_function.md\":\"c39efcc8\",\"deepunderstanding_p1 深入理解系列_10.v8引擎垃圾回收.md\":\"ec9098c5\",\"thirdpartys_typescript-tutorial_docs_mapping.md\":\"db40c4f4\",\"deepunderstanding_p2 手写系列_5.手写 jsonp.md\":\"4e81c8f1\",\"miscellaneoustalk_p3 你不知道的javascript_7.subresource integrity.md\":\"ff162d6c\",\"thirdpartys_typescript-tutorial_docs_npm.md\":\"cc0f62fb\",\"books_p2 阮一峰的es6教程_16.reflect.md\":\"16697acf\",\"thirdpartys_typescript-tutorial_docs_symbol.md\":\"855f33b4\",\"miscellaneoustalk_p4 工具使用_shell常用命令.md\":\"2e2c5320\",\"thirdpartys_typescript-tutorial_docs_namespace.md\":\"c556bd7c\",\"books_p2 阮一峰的es6教程_14.set 和 map 数据结构.md\":\"a1067ed0\",\"thirdpartys_typescript-tutorial_docs_tuple.md\":\"a78dc0b4\",\"thirdpartys_typescript-tutorial_docs_tsc.md\":\"a4d4d171\",\"thirdpartys_typescript-tutorial_docs_tsconfig.json.md\":\"31430cfe\",\"books_p2 阮一峰的es6教程_11.对象的新增方法.md\":\"4cdc11c4\",\"thirdpartys_es6tutorial_docs_proxy.md\":\"7b6537d4\",\"thirdpartys_es6tutorial_docs_object.md\":\"882a2f43\",\"toolkit_每日工具库_16.glob.md\":\"7bd4f147\",\"deepunderstanding_p1 深入理解系列_8.浏览器缓存.md\":\"df454f28\",\"books_p1 阮一峰的ts教程_17.装饰器.md\":\"5ad4b734\",\"thirdpartys_es6tutorial_docs_generator.md\":\"6739baf1\",\"books_p1 阮一峰的ts教程_20.d.ts 类型声明文件.md\":\"69fccd75\",\"interviewquestions_p3 八股文_5.面试宝典.md\":\"9be5a2eb\",\"books_p2 阮一峰的es6教程_7.数值的扩展.md\":\"7d2aa7e4\",\"thirdpartys_es6tutorial_docs_spec.md\":\"b5242ce3\",\"thirdpartys_es6tutorial_docs_proposals.md\":\"76619846\",\"books_p2 阮一峰的es6教程_17.promise 对象.md\":\"360a8104\",\"deepunderstanding_p1 深入理解系列_1.原型链.md\":\"cac929a9\",\"books_p2 阮一峰的es6教程_22.class 的基本语法.md\":\"cd37c74f\",\"thirdpartys_typescript-tutorial_docs_type-operations.md\":\"0557683f\",\"books_p2 阮一峰的es6教程_32.参考链接.md\":\"f9215eb8\",\"deepunderstanding_p2 手写系列_9.堆数据结构.md\":\"7fc1d61c\",\"deepunderstanding_p3 方案思路系列_1.文件断点续传.md\":\"54739b36\",\"books_p2 阮一峰的es6教程_5.字符串的新增方法.md\":\"318a824f\",\"deepunderstanding_p3 方案思路系列_2.组件懒加载.md\":\"a5e0550a\",\"books_p2 阮一峰的es6教程_30.最新提案.md\":\"1e034d1d\",\"deepunderstanding_p2 手写系列_2.节流_防抖.md\":\"83da82dc\",\"books_p2 阮一峰的es6教程_3.变量的解构赋值.md\":\"32c7ae2f\",\"deepunderstanding_p2 手写系列_3.深拷贝.md\":\"56959ac0\",\"books_p2 阮一峰的es6教程_4.字符串的扩展.md\":\"9395d5ba\",\"books_p2 阮一峰的es6教程_2.let 和 const 命令.md\":\"18519605\",\"books_p2 阮一峰的es6教程_10.对象的扩展.md\":\"f1f59609\",\"deepunderstanding_p2 手写系列_8.手写 instanceof.md\":\"8043564c\",\"interviewquestions_p2 手写题目_1.数组转树.md\":\"892cf9eb\",\"thirdpartys_typescript-tutorial_docs_class.md\":\"5ac7cc2f\",\"technologyexploration_前端技术探索_7.webassembly.md\":\"1a133e5f\",\"toolkit_每日工具库_7.semver.md\":\"315e22b4\",\"books_p1 阮一峰的ts教程_14.类型断言.md\":\"0d600991\",\"books_p1 阮一峰的ts教程_10.interface.md\":\"a9c9cf35\",\"toolkit_每日工具库_18.enquirer.md\":\"0dbe3355\",\"thirdpartys_es6tutorial_docs_fp.md\":\"0d0ae609\",\"technologyexploration_前端技术探索_3.webcomponent.md\":\"83f4e0bc\",\"test_test.md\":\"e2a00488\",\"books_p2 阮一峰的es6教程_20.generator 函数的异步应用.md\":\"8d0cadf3\",\"thirdpartys_es6tutorial_docs_set-map.md\":\"60404b39\",\"books_p1 阮一峰的ts教程_23.类型工具.md\":\"83ce7dcc\",\"books_p2 阮一峰的es6教程_13.symbol.md\":\"79c1aea4\",\"interviewquestions_p2 手写题目_4.蛇形二叉树.md\":\"50e4ab55\",\"books_p1 阮一峰的ts教程_19.declare 关键字.md\":\"7cc83564\",\"technologyexploration_前端技术探索_4.sourcemap.md\":\"ff311e55\",\"thirdpartys_typescript-tutorial_docs_decorator-legacy.md\":\"8d497833\",\"thirdpartys_typescript-tutorial_docs_operator.md\":\"c60d588d\",\"thirdpartys_typescript-tutorial_docs_declare.md\":\"90460dcc\",\"technologyexploration_前端技术探索_5.浏览器同源策略.md\":\"96966bcd\",\"interviewquestions_p3 八股文_ready.md\":\"93cbc9dc\",\"toolkit_每日工具库_2.postcss.md\":\"0a0db7af\",\"books_p2 阮一峰的es6教程_1.ecmascript 6简介.md\":\"3bd2ceca\",\"thirdpartys_es6tutorial_docs_module-loader.md\":\"f8f42286\",\"technologyexploration_前端技术探索_6.contentsecuritypolicy.md\":\"dee4096e\",\"thirdpartys_typescript-tutorial_docs_types.md\":\"c5f98262\",\"interviewquestions_p3 八股文_7.虚拟dom.md\":\"78deb67b\",\"toolkit_每日工具库_21.spark-md5.md\":\"48520b26\",\"interviewquestions_p3 八股文_8.vue.md\":\"f81e8400\",\"deepunderstanding_p1 深入理解系列_5.手写打包器.md\":\"e4851d15\",\"thirdpartys_typescript-tutorial_docs_react.md\":\"d916aaf5\",\"toolkit_每日工具库_5.fs-extra.md\":\"b2f6632c\",\"interviewquestions_p2 手写题目_2.异步任务并发.md\":\"3cf3e5c4\",\"index.md\":\"60b9a403\",\"books_p2 阮一峰的es6教程_9.数组的扩展.md\":\"f6276fc9\",\"interviewquestions_p3 八股文_9.experience.md\":\"5bd7a2be\",\"thirdpartys_typescript-tutorial_docs_interface.md\":\"8f10a050\",\"books_p2 阮一峰的es6教程_19.generator 函数的语法.md\":\"1a1dd101\",\"thirdpartys_es6tutorial_docs_decorator.md\":\"3a233362\",\"thirdpartys_es6tutorial_summary.md\":\"e449feec\",\"books_p2 阮一峰的es6教程_24.module 的语法.md\":\"39054e1f\",\"books_p1 阮一峰的ts教程_3.any 类型.md\":\"c112a6dc\",\"thirdpartys_typescript-tutorial_docs_comment.md\":\"3a0eb75c\",\"books_p1 阮一峰的ts教程_21.类型运算符.md\":\"c14c5fe4\",\"books_p1 阮一峰的ts教程_5.数组.md\":\"b95df8a8\",\"deepunderstanding_p2 手写系列_7.geturlparams.md\":\"cbaebd33\",\"toolkit_每日工具库_17.conventional-changelog-cli.md\":\"a5148de9\",\"books_p2 阮一峰的es6教程_27.读懂规格.md\":\"7a54f96c\",\"thirdpartys_es6tutorial_docs_symbol.md\":\"408763b8\",\"books_p2 阮一峰的es6教程_21.async 函数.md\":\"77733a07\",\"thirdpartys_es6tutorial_docs_simd.md\":\"847fd3c4\",\"thirdpartys_es6tutorial_docs_string-methods.md\":\"6ab3851d\",\"thirdpartys_typescript-tutorial_docs_narrowing.md\":\"a18c636f\",\"toolkit_每日工具库_14.playwright-chromium.md\":\"4a2f1114\",\"thirdpartys_typescript-tutorial_docs_es6.md\":\"8cfef6e4\",\"books_p2 阮一峰的es6教程_28.异步遍历器.md\":\"3b708940\",\"deepunderstanding_p1 深入理解系列_2.执⾏上下⽂.md\":\"3450ff5b\",\"books_p2 阮一峰的es6教程_25.module 的加载实现.md\":\"f8c7bef2\",\"deepunderstanding_p1 深入理解系列_4.前端模块化演进.md\":\"1e7ae53b\",\"books_p2 阮一峰的es6教程_8.函数的扩展.md\":\"571854d0\",\"thirdpartys_es6tutorial_docs_module.md\":\"d44f659d\",\"thirdpartys_typescript-tutorial_docs_object.md\":\"0bdfc8cd\",\"thirdpartys_es6tutorial_docs_operator.md\":\"1dbec276\",\"deepunderstanding_p1 深入理解系列_6.new的模拟实现.md\":\"425b77aa\",\"thirdpartys_typescript-tutorial_docs_module.md\":\"cf51c60f\",\"thirdpartys_es6tutorial_docs_arraybuffer.md\":\"735f920d\",\"books_p2 阮一峰的es6教程_23.class 的继承.md\":\"19a76495\",\"thirdpartys_es6tutorial_app_bower_components_marked_readme.md\":\"1c5b54b4\",\"interviewquestions_p1 经验总结_字节-飞书.md\":\"e7fd3355\",\"books_p2 阮一峰的es6教程_18.iterator 和 for...of 循环.md\":\"f4b311ab\",\"books_p1 阮一峰的ts教程_11.类.md\":\"c660a500\",\"interviewquestions_p3 八股文_index.md\":\"09fd8236\",\"thirdpartys_es6tutorial_docs_object-methods.md\":\"bda6ab36\",\"thirdpartys_es6tutorial_docs_string.md\":\"b65b5cbe\",\"toolkit_每日工具库_3.execa.md\":\"e6afae38\",\"thirdpartys_es6tutorial_docs_reflect.md\":\"b1b80a44\",\"deepunderstanding_p2 手写系列_1.递归遍历.md\":\"bf64224f\",\"thirdpartys_typescript-tutorial_docs_decorator.md\":\"12177b96\",\"books_p1 阮一峰的ts教程_4.类型系统.md\":\"915d6174\",\"thirdpartys_typescript-tutorial_docs_utility.md\":\"5fda2946\",\"thirdpartys_typescript-tutorial_docs_generics.md\":\"d5723ec7\",\"thirdpartys_es6tutorial_docs_async-iterator.md\":\"b0bcb783\",\"thirdpartys_typescript-tutorial_docs_d.ts.md\":\"c1644160\",\"deepunderstanding_p4 读书总结_2.阮一峰typescript.md\":\"f35dc558\",\"deepunderstanding_p1 深入理解系列_9.前端安全.md\":\"be39d2c1\",\"books_p2 阮一峰的es6教程_31.decorator.md\":\"8305e702\",\"deepunderstanding_p1 深入理解系列_12.http的演进.md\":\"d655f94e\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Naparte Blog\",\"description\":\"A VitePress Site\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/avatar.png\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"深入理解系列\",\"path\":\"Deepunderstanding\",\"link\":\"/Deepunderstanding/P1 深入理解系列/1.原型链\"},{\"text\":\"前端技术探索\",\"path\":\"TechnologyExploration\",\"link\":\"/TechnologyExploration/前端技术探索/1.TreeShaking\"},{\"text\":\"每日·壹库\",\"path\":\"Toolkit\",\"link\":\"/Toolkit/每日工具库/1.madge\"},{\"text\":\"eBook\",\"path\":\"Books\",\"link\":\"/Books/P1 阮一峰的TS教程/1.简介\"},{\"text\":\"阅\",\"path\":\"MiscellaneousTalk\",\"link\":\"/MiscellaneousTalk/P1 概念系列/1.库 vs 框架 vs 平台\"}],\"sidebar\":{\"/Deepunderstanding/\":[{\"text\":\"P1 深入理解系列\",\"items\":[{\"text\":\"1.原型链\",\"link\":\"/Deepunderstanding/P1 深入理解系列/1.原型链\"},{\"text\":\"2.执⾏上下⽂\",\"link\":\"/Deepunderstanding/P1 深入理解系列/2.执⾏上下⽂\"},{\"text\":\"3.浏览器工作原理\",\"link\":\"/Deepunderstanding/P1 深入理解系列/3.浏览器工作原理\"},{\"text\":\"4.前端模块化演进\",\"link\":\"/Deepunderstanding/P1 深入理解系列/4.前端模块化演进\"},{\"text\":\"5.手写打包器\",\"link\":\"/Deepunderstanding/P1 深入理解系列/5.手写打包器\"},{\"text\":\"6.new的模拟实现\",\"link\":\"/Deepunderstanding/P1 深入理解系列/6.new的模拟实现\"},{\"text\":\"7.JS继承的多种方式\",\"link\":\"/Deepunderstanding/P1 深入理解系列/7.JS继承的多种方式\"},{\"text\":\"8.浏览器缓存\",\"link\":\"/Deepunderstanding/P1 深入理解系列/8.浏览器缓存\"},{\"text\":\"9.前端安全\",\"link\":\"/Deepunderstanding/P1 深入理解系列/9.前端安全\"},{\"text\":\"10.V8引擎垃圾回收\",\"link\":\"/Deepunderstanding/P1 深入理解系列/10.V8引擎垃圾回收\"},{\"text\":\"11.前端鉴权\",\"link\":\"/Deepunderstanding/P1 深入理解系列/11.前端鉴权\"},{\"text\":\"12.HTTP的演进\",\"link\":\"/Deepunderstanding/P1 深入理解系列/12.HTTP的演进\"}]},{\"text\":\"P2 手写系列\",\"items\":[{\"text\":\"1.递归遍历\",\"link\":\"/Deepunderstanding/P2 手写系列/1.递归遍历\"},{\"text\":\"2.节流&防抖\",\"link\":\"/Deepunderstanding/P2 手写系列/2.节流&防抖\"},{\"text\":\"3.深拷贝\",\"link\":\"/Deepunderstanding/P2 手写系列/3.深拷贝\"},{\"text\":\"4.手写 call&apply&bind\",\"link\":\"/Deepunderstanding/P2 手写系列/4.手写 call&apply&bind\"},{\"text\":\"5.手写 Jsonp\",\"link\":\"/Deepunderstanding/P2 手写系列/5.手写 Jsonp\"},{\"text\":\"6.手写 Promise\",\"link\":\"/Deepunderstanding/P2 手写系列/6.手写 Promise\"},{\"text\":\"7.getURLParams\",\"link\":\"/Deepunderstanding/P2 手写系列/7.getURLParams\"},{\"text\":\"8.手写 instanceof\",\"link\":\"/Deepunderstanding/P2 手写系列/8.手写 instanceof\"},{\"text\":\"9.堆数据结构\",\"link\":\"/Deepunderstanding/P2 手写系列/9.堆数据结构\"},{\"text\":\"10.排序算法\",\"link\":\"/Deepunderstanding/P2 手写系列/10.排序算法\"}]},{\"text\":\"P3 方案思路系列\",\"items\":[{\"text\":\"1.文件断点续传\",\"link\":\"/Deepunderstanding/P3 方案思路系列/1.文件断点续传\"},{\"text\":\"2.组件懒加载\",\"link\":\"/Deepunderstanding/P3 方案思路系列/2.组件懒加载\"},{\"text\":\"3.换肤原理\",\"link\":\"/Deepunderstanding/P3 方案思路系列/3.换肤原理\"},{\"text\":\"4.组件库按需加载\",\"link\":\"/Deepunderstanding/P3 方案思路系列/4.组件库按需加载\"}]},{\"text\":\"P4 读书总结\",\"items\":[{\"text\":\"1.图解http\",\"link\":\"/Deepunderstanding/P4 读书总结/1.图解http\"},{\"text\":\"2.阮一峰typescript\",\"link\":\"/Deepunderstanding/P4 读书总结/2.阮一峰typescript\"}]}],\"/TechnologyExploration/\":[{\"text\":\"前端技术探索\",\"items\":[{\"text\":\"1.TreeShaking\",\"link\":\"/TechnologyExploration/前端技术探索/1.TreeShaking\"},{\"text\":\"2.CSSModule\",\"link\":\"/TechnologyExploration/前端技术探索/2.CSSModule\"},{\"text\":\"3.WebComponent\",\"link\":\"/TechnologyExploration/前端技术探索/3.WebComponent\"},{\"text\":\"4.SourceMap\",\"link\":\"/TechnologyExploration/前端技术探索/4.SourceMap\"},{\"text\":\"5.浏览器同源策略\",\"link\":\"/TechnologyExploration/前端技术探索/5.浏览器同源策略\"},{\"text\":\"6.ContentSecurityPolicy\",\"link\":\"/TechnologyExploration/前端技术探索/6.ContentSecurityPolicy\"},{\"text\":\"7.WebAssembly\",\"link\":\"/TechnologyExploration/前端技术探索/7.WebAssembly\"},{\"text\":\"8.原子化CSS\",\"link\":\"/TechnologyExploration/前端技术探索/8.原子化CSS\"},{\"text\":\"9.浏览器指纹\",\"link\":\"/TechnologyExploration/前端技术探索/9.浏览器指纹\"}]}],\"/Toolkit/\":[{\"text\":\"每日工具库\",\"items\":[{\"text\":\"1.madge\",\"link\":\"/Toolkit/每日工具库/1.madge\"},{\"text\":\"2.postcss\",\"link\":\"/Toolkit/每日工具库/2.postcss\"},{\"text\":\"3.execa\",\"link\":\"/Toolkit/每日工具库/3.execa\"},{\"text\":\"4.feed\",\"link\":\"/Toolkit/每日工具库/4.feed\"},{\"text\":\"5.fs-extra\",\"link\":\"/Toolkit/每日工具库/5.fs-extra\"},{\"text\":\"6.commander\",\"link\":\"/Toolkit/每日工具库/6.commander\"},{\"text\":\"7.semver\",\"link\":\"/Toolkit/每日工具库/7.semver\"},{\"text\":\"8.patch-package\",\"link\":\"/Toolkit/每日工具库/8.patch-package\"},{\"text\":\"9.picocolors\",\"link\":\"/Toolkit/每日工具库/9.picocolors\"},{\"text\":\"10.husky\",\"link\":\"/Toolkit/每日工具库/10.husky\"},{\"text\":\"11.lint-staged\",\"link\":\"/Toolkit/每日工具库/11.lint-staged\"},{\"text\":\"12.npm-run-all2\",\"link\":\"/Toolkit/每日工具库/12.npm-run-all2\"},{\"text\":\"13.prettier\",\"link\":\"/Toolkit/每日工具库/13.prettier\"},{\"text\":\"14.playwright-chromium\",\"link\":\"/Toolkit/每日工具库/14.playwright-chromium\"},{\"text\":\"15.micromatch\",\"link\":\"/Toolkit/每日工具库/15.micromatch\"},{\"text\":\"16.glob\",\"link\":\"/Toolkit/每日工具库/16.glob\"},{\"text\":\"17.conventional-changelog-cli\",\"link\":\"/Toolkit/每日工具库/17.conventional-changelog-cli\"},{\"text\":\"18.enquirer\",\"link\":\"/Toolkit/每日工具库/18.enquirer\"},{\"text\":\"19.jsdom\",\"link\":\"/Toolkit/每日工具库/19.jsdom\"},{\"text\":\"20.openapi-codegen-typescript\",\"link\":\"/Toolkit/每日工具库/20.openapi-codegen-typescript\"},{\"text\":\"21.spark-md5\",\"link\":\"/Toolkit/每日工具库/21.spark-md5\"},{\"text\":\"22.PDFjs\",\"link\":\"/Toolkit/每日工具库/22.PDFjs\"}]}],\"/Books/\":[{\"text\":\"P1 阮一峰的TS教程\",\"items\":[{\"text\":\"1.简介\",\"link\":\"/Books/P1 阮一峰的TS教程/1.简介\"},{\"text\":\"2.基本用法\",\"link\":\"/Books/P1 阮一峰的TS教程/2.基本用法\"},{\"text\":\"3.any 类型\",\"link\":\"/Books/P1 阮一峰的TS教程/3.any 类型\"},{\"text\":\"4.类型系统\",\"link\":\"/Books/P1 阮一峰的TS教程/4.类型系统\"},{\"text\":\"5.数组\",\"link\":\"/Books/P1 阮一峰的TS教程/5.数组\"},{\"text\":\"6.元组\",\"link\":\"/Books/P1 阮一峰的TS教程/6.元组\"},{\"text\":\"7.symbol 类型\",\"link\":\"/Books/P1 阮一峰的TS教程/7.symbol 类型\"},{\"text\":\"8.函数\",\"link\":\"/Books/P1 阮一峰的TS教程/8.函数\"},{\"text\":\"9.对象\",\"link\":\"/Books/P1 阮一峰的TS教程/9.对象\"},{\"text\":\"10.interface\",\"link\":\"/Books/P1 阮一峰的TS教程/10.interface\"},{\"text\":\"11.类\",\"link\":\"/Books/P1 阮一峰的TS教程/11.类\"},{\"text\":\"12.泛型\",\"link\":\"/Books/P1 阮一峰的TS教程/12.泛型\"},{\"text\":\"13.Enum 类型\",\"link\":\"/Books/P1 阮一峰的TS教程/13.Enum 类型\"},{\"text\":\"14.类型断言\",\"link\":\"/Books/P1 阮一峰的TS教程/14.类型断言\"},{\"text\":\"15.模块\",\"link\":\"/Books/P1 阮一峰的TS教程/15.模块\"},{\"text\":\"16.namespace\",\"link\":\"/Books/P1 阮一峰的TS教程/16.namespace\"},{\"text\":\"17.装饰器\",\"link\":\"/Books/P1 阮一峰的TS教程/17.装饰器\"},{\"text\":\"18.装饰器（旧语法）\",\"link\":\"/Books/P1 阮一峰的TS教程/18.装饰器（旧语法）\"},{\"text\":\"19.declare 关键字\",\"link\":\"/Books/P1 阮一峰的TS教程/19.declare 关键字\"},{\"text\":\"20.d.ts 类型声明文件\",\"link\":\"/Books/P1 阮一峰的TS教程/20.d.ts 类型声明文件\"},{\"text\":\"21.类型运算符\",\"link\":\"/Books/P1 阮一峰的TS教程/21.类型运算符\"},{\"text\":\"22.类型映射\",\"link\":\"/Books/P1 阮一峰的TS教程/22.类型映射\"},{\"text\":\"23.类型工具\",\"link\":\"/Books/P1 阮一峰的TS教程/23.类型工具\"},{\"text\":\"24.注释指令\",\"link\":\"/Books/P1 阮一峰的TS教程/24.注释指令\"},{\"text\":\"25.tsconfig.json 文件\",\"link\":\"/Books/P1 阮一峰的TS教程/25.tsconfig.json 文件\"},{\"text\":\"26.tsc 命令\",\"link\":\"/Books/P1 阮一峰的TS教程/26.tsc 命令\"}]},{\"text\":\"P2 阮一峰的ES6教程\",\"items\":[{\"text\":\"1.ECMAScript 6简介\",\"link\":\"/Books/P2 阮一峰的ES6教程/1.ECMAScript 6简介\"},{\"text\":\"2.let 和 const 命令\",\"link\":\"/Books/P2 阮一峰的ES6教程/2.let 和 const 命令\"},{\"text\":\"3.变量的解构赋值\",\"link\":\"/Books/P2 阮一峰的ES6教程/3.变量的解构赋值\"},{\"text\":\"4.字符串的扩展\",\"link\":\"/Books/P2 阮一峰的ES6教程/4.字符串的扩展\"},{\"text\":\"5.字符串的新增方法\",\"link\":\"/Books/P2 阮一峰的ES6教程/5.字符串的新增方法\"},{\"text\":\"6.正则的扩展\",\"link\":\"/Books/P2 阮一峰的ES6教程/6.正则的扩展\"},{\"text\":\"7.数值的扩展\",\"link\":\"/Books/P2 阮一峰的ES6教程/7.数值的扩展\"},{\"text\":\"8.函数的扩展\",\"link\":\"/Books/P2 阮一峰的ES6教程/8.函数的扩展\"},{\"text\":\"9.数组的扩展\",\"link\":\"/Books/P2 阮一峰的ES6教程/9.数组的扩展\"},{\"text\":\"10.对象的扩展\",\"link\":\"/Books/P2 阮一峰的ES6教程/10.对象的扩展\"},{\"text\":\"11.对象的新增方法\",\"link\":\"/Books/P2 阮一峰的ES6教程/11.对象的新增方法\"},{\"text\":\"12.运算符的扩展\",\"link\":\"/Books/P2 阮一峰的ES6教程/12.运算符的扩展\"},{\"text\":\"13.Symbol\",\"link\":\"/Books/P2 阮一峰的ES6教程/13.Symbol\"},{\"text\":\"14.Set 和 Map 数据结构\",\"link\":\"/Books/P2 阮一峰的ES6教程/14.Set 和 Map 数据结构\"},{\"text\":\"15.Proxy\",\"link\":\"/Books/P2 阮一峰的ES6教程/15.Proxy\"},{\"text\":\"16.Reflect\",\"link\":\"/Books/P2 阮一峰的ES6教程/16.Reflect\"},{\"text\":\"17.Promise 对象\",\"link\":\"/Books/P2 阮一峰的ES6教程/17.Promise 对象\"},{\"text\":\"18.Iterator 和 for...of 循环\",\"link\":\"/Books/P2 阮一峰的ES6教程/18.Iterator 和 for...of 循环\"},{\"text\":\"19.Generator 函数的语法\",\"link\":\"/Books/P2 阮一峰的ES6教程/19.Generator 函数的语法\"},{\"text\":\"20.Generator 函数的异步应用\",\"link\":\"/Books/P2 阮一峰的ES6教程/20.Generator 函数的异步应用\"},{\"text\":\"21.async 函数\",\"link\":\"/Books/P2 阮一峰的ES6教程/21.async 函数\"},{\"text\":\"22.Class 的基本语法\",\"link\":\"/Books/P2 阮一峰的ES6教程/22.Class 的基本语法\"},{\"text\":\"23.Class 的继承\",\"link\":\"/Books/P2 阮一峰的ES6教程/23.Class 的继承\"},{\"text\":\"24.Module 的语法\",\"link\":\"/Books/P2 阮一峰的ES6教程/24.Module 的语法\"},{\"text\":\"25.Module 的加载实现\",\"link\":\"/Books/P2 阮一峰的ES6教程/25.Module 的加载实现\"},{\"text\":\"26.编程风格\",\"link\":\"/Books/P2 阮一峰的ES6教程/26.编程风格\"},{\"text\":\"27.读懂规格\",\"link\":\"/Books/P2 阮一峰的ES6教程/27.读懂规格\"},{\"text\":\"28.异步遍历器\",\"link\":\"/Books/P2 阮一峰的ES6教程/28.异步遍历器\"},{\"text\":\"29.ArrayBuffer\",\"link\":\"/Books/P2 阮一峰的ES6教程/29.ArrayBuffer\"},{\"text\":\"30.最新提案\",\"link\":\"/Books/P2 阮一峰的ES6教程/30.最新提案\"},{\"text\":\"31.Decorator\",\"link\":\"/Books/P2 阮一峰的ES6教程/31.Decorator\"},{\"text\":\"32.参考链接\",\"link\":\"/Books/P2 阮一峰的ES6教程/32.参考链接\"}]}],\"/MiscellaneousTalk/\":[{\"text\":\"P1 概念系列\",\"items\":[{\"text\":\"1.库 vs 框架 vs 平台\",\"link\":\"/MiscellaneousTalk/P1 概念系列/1.库 vs 框架 vs 平台\"},{\"text\":\"2.MVC vs MVP vs MVVM\",\"link\":\"/MiscellaneousTalk/P1 概念系列/2.MVC vs MVP vs MVVM\"},{\"text\":\"3.webpack loader vs plugin\",\"link\":\"/MiscellaneousTalk/P1 概念系列/3.webpack loader vs plugin\"},{\"text\":\"4.npm vs yarn vs pnpm\",\"link\":\"/MiscellaneousTalk/P1 概念系列/4.npm vs yarn vs pnpm\"},{\"text\":\"5.前端鉴权\",\"link\":\"/MiscellaneousTalk/P1 概念系列/5.前端鉴权\"},{\"text\":\"6.Babel工具包概览\",\"link\":\"/MiscellaneousTalk/P1 概念系列/6.Babel工具包概览\"},{\"text\":\"7.AST节点概念\",\"link\":\"/MiscellaneousTalk/P1 概念系列/7.AST节点概念\"},{\"text\":\"8.AI 提示创建器\",\"link\":\"/MiscellaneousTalk/P1 概念系列/8.AI 提示创建器\"},{\"text\":\"9.SaaS\",\"link\":\"/MiscellaneousTalk/P1 概念系列/9.SaaS\"},{\"text\":\"10.前端质量保障\",\"link\":\"/MiscellaneousTalk/P1 概念系列/10.前端质量保障\"},{\"text\":\"11.如何做技术规划\",\"link\":\"/MiscellaneousTalk/P1 概念系列/11.如何做技术规划\"},{\"text\":\"12.根因分析\",\"link\":\"/MiscellaneousTalk/P1 概念系列/12.根因分析\"},{\"text\":\"13.前端工程化\",\"link\":\"/MiscellaneousTalk/P1 概念系列/13.前端工程化\"},{\"text\":\"14.webpack vs vite\",\"link\":\"/MiscellaneousTalk/P1 概念系列/14.webpack vs vite\"},{\"text\":\"15.Flex布局\",\"link\":\"/MiscellaneousTalk/P1 概念系列/15.Flex布局\"},{\"text\":\"16.performance\",\"link\":\"/MiscellaneousTalk/P1 概念系列/16.performance\"},{\"text\":\"17.HTTP 状态码\",\"link\":\"/MiscellaneousTalk/P1 概念系列/17.HTTP 状态码\"},{\"text\":\"18.前端知识图谱\",\"link\":\"/MiscellaneousTalk/P1 概念系列/18.前端知识图谱\"},{\"text\":\"19.微前端\",\"link\":\"/MiscellaneousTalk/P1 概念系列/19.微前端\"},{\"text\":\"20.Webpack 核心原理\",\"link\":\"/MiscellaneousTalk/P1 概念系列/20.Webpack 核心原理\"},{\"text\":\"21.webpack分包策略\",\"link\":\"/MiscellaneousTalk/P1 概念系列/21.webpack分包策略\"}]},{\"text\":\"P2 源码系列\",\"items\":[{\"text\":\"1.nextTick\",\"link\":\"/MiscellaneousTalk/P2 源码系列/1.nextTick\"},{\"text\":\"2.mixin\",\"link\":\"/MiscellaneousTalk/P2 源码系列/2.mixin\"},{\"text\":\"Vue3概览\",\"link\":\"/MiscellaneousTalk/P2 源码系列/Vue3概览\"},{\"text\":\"尤雨溪-reactive\",\"link\":\"/MiscellaneousTalk/P2 源码系列/尤雨溪-reactive\"},{\"text\":\"尤雨溪-vdom\",\"link\":\"/MiscellaneousTalk/P2 源码系列/尤雨溪-vdom\"}]},{\"text\":\"P3 你不知道的JavaScript\",\"items\":[{\"text\":\"1.模板字符串\",\"link\":\"/MiscellaneousTalk/P3 你不知道的JavaScript/1.模板字符串\"},{\"text\":\"2.EcmaScript规范\",\"link\":\"/MiscellaneousTalk/P3 你不知道的JavaScript/2.EcmaScript规范\"},{\"text\":\"3.fetch请求终止\",\"link\":\"/MiscellaneousTalk/P3 你不知道的JavaScript/3.fetch请求终止\"},{\"text\":\"4.判断浏览器是否支持webp\",\"link\":\"/MiscellaneousTalk/P3 你不知道的JavaScript/4.判断浏览器是否支持webp\"},{\"text\":\"5.requestIdleCallback\",\"link\":\"/MiscellaneousTalk/P3 你不知道的JavaScript/5.requestIdleCallback\"},{\"text\":\"6.sendBeacon\",\"link\":\"/MiscellaneousTalk/P3 你不知道的JavaScript/6.sendBeacon\"},{\"text\":\"7.Subresource Integrity\",\"link\":\"/MiscellaneousTalk/P3 你不知道的JavaScript/7.Subresource Integrity\"},{\"text\":\"99.技巧类\",\"link\":\"/MiscellaneousTalk/P3 你不知道的JavaScript/99.技巧类\"}]},{\"text\":\"P4 工具使用\",\"items\":[{\"text\":\"git多账号管理\",\"link\":\"/MiscellaneousTalk/P4 工具使用/git多账号管理\"},{\"text\":\"shell常用命令\",\"link\":\"/MiscellaneousTalk/P4 工具使用/shell常用命令\"}]},{\"text\":\"观感\",\"items\":[{\"text\":\"前端已死，前端永生\",\"link\":\"/MiscellaneousTalk/观感/前端已死，前端永生\"}]},{\"text\":\"todo\",\"link\":\"/MiscellaneousTalk/todo\"},{\"text\":\"参考文献\",\"link\":\"/MiscellaneousTalk/参考文献\"}],\"/InterviewQuestions/\":[{\"text\":\"P1 经验总结\",\"items\":[{\"text\":\"shopee\",\"link\":\"/InterviewQuestions/P1 经验总结/shopee\"},{\"text\":\"乐信\",\"link\":\"/InterviewQuestions/P1 经验总结/乐信\"},{\"text\":\"字节-infra\",\"link\":\"/InterviewQuestions/P1 经验总结/字节-infra\"},{\"text\":\"字节-飞书\",\"link\":\"/InterviewQuestions/P1 经验总结/字节-飞书\"}]},{\"text\":\"P2 手写题目\",\"items\":[{\"text\":\"1.数组转树\",\"link\":\"/InterviewQuestions/P2 手写题目/1.数组转树\"},{\"text\":\"2.异步任务并发\",\"link\":\"/InterviewQuestions/P2 手写题目/2.异步任务并发\"},{\"text\":\"3.约瑟夫问题\",\"link\":\"/InterviewQuestions/P2 手写题目/3.约瑟夫问题\"},{\"text\":\"4.蛇形二叉树\",\"link\":\"/InterviewQuestions/P2 手写题目/4.蛇形二叉树\"},{\"text\":\"5.大数相加\",\"link\":\"/InterviewQuestions/P2 手写题目/5.大数相加\"}]},{\"text\":\"P3 八股文\",\"items\":[{\"text\":\"1.常见问题\",\"link\":\"/InterviewQuestions/P3 八股文/1.常见问题\"},{\"text\":\"2.CSS\",\"link\":\"/InterviewQuestions/P3 八股文/2.CSS\"},{\"text\":\"3.HTML\",\"link\":\"/InterviewQuestions/P3 八股文/3.HTML\"},{\"text\":\"4.JavaScript\",\"link\":\"/InterviewQuestions/P3 八股文/4.JavaScript\"},{\"text\":\"5.面试宝典\",\"link\":\"/InterviewQuestions/P3 八股文/5.面试宝典\"},{\"text\":\"6.性能优化\",\"link\":\"/InterviewQuestions/P3 八股文/6.性能优化\"},{\"text\":\"7.虚拟DOM\",\"link\":\"/InterviewQuestions/P3 八股文/7.虚拟DOM\"},{\"text\":\"8.vue\",\"link\":\"/InterviewQuestions/P3 八股文/8.vue\"},{\"text\":\"9.experience\",\"link\":\"/InterviewQuestions/P3 八股文/9.experience\"},{\"text\":\"10.Vue 系列\",\"link\":\"/InterviewQuestions/P3 八股文/10.Vue 系列\"},{\"text\":\"11.Vue3 系列\",\"link\":\"/InterviewQuestions/P3 八股文/11.Vue3 系列\"},{\"text\":\"12.JavaScript 系列\",\"link\":\"/InterviewQuestions/P3 八股文/12.JavaScript 系列\"},{\"text\":\"13.ES6 系列\",\"link\":\"/InterviewQuestions/P3 八股文/13.ES6 系列\"},{\"text\":\"14.CSS 系列\",\"link\":\"/InterviewQuestions/P3 八股文/14.CSS 系列\"},{\"text\":\"15.Webpack 系列\",\"link\":\"/InterviewQuestions/P3 八股文/15.Webpack 系列\"},{\"text\":\"16.HTTP 系列\",\"link\":\"/InterviewQuestions/P3 八股文/16.HTTP 系列\"},{\"text\":\"17.TypeScript 系列\",\"link\":\"/InterviewQuestions/P3 八股文/17.TypeScript 系列\"},{\"text\":\"18.设计模式系列\",\"link\":\"/InterviewQuestions/P3 八股文/18.设计模式系列\"},{\"text\":\"19.算法与数据结构系列\",\"link\":\"/InterviewQuestions/P3 八股文/19.算法与数据结构系列\"},{\"text\":\"bytedance\",\"link\":\"/InterviewQuestions/P3 八股文/bytedance\"},{\"text\":\"index\",\"link\":\"/InterviewQuestions/P3 八股文/index\"},{\"text\":\"ready\",\"link\":\"/InterviewQuestions/P3 八股文/ready\"},{\"text\":\"面试14问\",\"link\":\"/InterviewQuestions/P3 八股文/面试14问\"}]}]},\"lastUpdatedText\":\"最后更新\",\"socialLinks\":[{\"icon\":{\"svg\":\"<svg t=\\\"1700188662639\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"4049\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M512 0c282.784 0 512 229.216 512 512s-229.216 512-512 512S0 794.784 0 512 229.216 0 512 0z m189.952 752l11.20000001-108.22400001c-31.904 9.53600001-100.92800001 16.128-147.712 16.12800002-134.46400001 0-205.728-47.29600001-195.32800002-146.30400002 11.58400001-110.688 113.152-145.696 232.64000001-145.69599999 54.784 0 122.43200001 8.79999999 151.296 18.33599999L768 272.70399999C724.54400001 262.24 678.272 256 599.584 256c-203.20000001 0-388.704 94.88-406.4 263.48800001C178.336 660.96 303.584 768 535.61600001 768c80.672 0 138.464-6.432 166.33599999-16z\\\" fill=\\\"#007bff\\\" p-id=\\\"4050\\\"></path></svg>\"},\"link\":\"https://blog.csdn.net/qq_28949081?type=blog\"},{\"icon\":{\"svg\":\"<svg t=\\\"1700188703014\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"6297\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M465.189 161.792c-22.967 18.14-44.325 35.109-47.397 37.742l-5.851 4.68 10.971 8.632c5.998 4.827 11.85 9.508 13.02 10.532 1.17 1.024 17.993 14.336 37.156 29.696l34.962 27.795 5.267-3.95c2.925-2.194 23.259-18.432 45.348-35.986 21.943-17.555 41.253-32.768 42.716-33.646 1.609-1.024 2.779-2.194 2.779-2.78 0-0.438-9.655-8.63-21.504-17.846-11.995-9.363-22.674-17.847-23.845-18.871-15.945-13.02-49.737-39.059-50.76-39.059-0.586 0.147-19.896 14.922-42.862 33.061z m233.325 180.37C507.465 493.275 508.928 492.105 505.417 489.911c-3.072-1.902-11.556-8.485-64.073-50.03-9.07-7.168-18.578-14.775-21.358-16.823-2.78-2.194-8.777-6.875-13.312-10.532-4.68-3.657-10.679-8.339-13.312-10.533-13.165-10.24-71.095-56.027-102.107-80.457-5.852-4.681-11.41-8.485-12.142-8.485-0.731 0-10.971 7.754-22.674 17.116-11.703 9.508-22.674 18.286-24.284 19.456-1.755 1.17-5.12 3.95-7.46 6.144-2.34 2.34-4.828 4.096-5.413 4.096-3.072 0-0.731 3.072 6.437 8.777 4.096 3.218 8.777 6.875 10.094 8.046 1.316 1.024 10.24 8.045 19.748 15.506s23.26 18.286 30.428 23.99c19.31 15.215 31.89 25.308 127.853 101.084 47.836 37.742 88.796 69.779 90.844 71.095 3.657 2.487 3.95 2.487 7.46-0.292a1041.42 1041.42 0 0 0 16.092-12.727c6.875-5.413 14.775-11.703 17.554-13.897 30.135-23.699 80.018-63.05 81.774-64.512 1.17-1.024 12.434-9.802 24.868-19.603s37.888-29.696 56.32-44.324c18.579-14.629 46.227-36.425 61.733-48.567 15.506-12.142 27.794-22.528 27.502-23.26-0.878-1.17-57.637-47.104-59.978-48.274-0.731-0.439-18.578 12.727-39.497 29.257z\\\" fill=\\\"#006CFF\\\" p-id=\\\"6298\\\"></path><path d=\\\"M57.93 489.326c-15.215 12.288-28.527 23.405-29.697 24.576-2.34 2.194-5.412-0.44 80.018 66.852 33.207 26.185 32.622 25.747 57.637 45.495 10.386 8.192 36.279 28.672 57.783 45.495 38.18 30.135 44.91 35.401 52.663 41.545 2.048 1.756 22.967 18.14 46.372 36.572 23.26 18.432 74.167 58.514 112.933 89.088 38.912 30.573 71.095 55.734 71.826 56.027 0.732 0.293 7.46-4.389 14.921-10.386 21.797-16.97 90.259-70.949 101.523-79.872 5.705-4.535 12.873-10.24 15.945-12.58 3.072-2.488 6.436-5.12 7.314-5.852 0.878-0.878 11.85-9.509 24.283-19.31 20.773-16.091 59.1-46.226 64.366-50.615 1.17-1.024 5.12-4.096 8.777-6.875 3.657-2.78 7.9-6.29 9.509-7.607 1.609-1.317 14.775-11.703 29.257-23.113 29.11-22.82 42.277-33.207 88.503-69.632 17.262-13.605 32.475-25.454 33.646-26.478 2.486-2.048 31.451-24.869 44.617-35.255 4.827-3.657 9.07-7.168 9.508-7.607 0.44-0.585 5.998-4.827 12.435-9.8 6.436-4.828 13.165-10.24 15.067-11.85l3.365-2.926-9.948-7.753c-5.412-4.388-10.24-8.192-10.679-8.63-1.17-1.317-22.381-18.433-30.135-24.284-3.95-3.072-7.314-5.998-7.606-6.73-1.317-3.071-6.73 0.147-29.258 17.994-13.458 10.532-25.746 20.187-27.355 21.504-1.61 1.463-10.533 8.338-19.749 15.652-9.216 7.168-17.115 13.459-17.554 13.898-0.439 0.438-6.583 5.412-13.897 10.971-7.168 5.559-15.214 11.703-17.7 13.75-4.974 4.097-5.413 4.39-20.334 16.239-5.56 4.388-11.264 8.777-12.435 9.8-1.17 1.025-20.333 16.092-42.422 33.354-22.09 17.408-41.546 32.768-43.155 34.084-1.609 1.463-14.482 11.557-28.525 22.528s-40.814 32.037-59.539 46.812c-18.578 14.775-42.276 33.353-52.516 41.399s-23.26 18.285-28.965 22.82l-10.386 8.339-4.389-3.072c-2.34-1.756-4.68-3.511-5.12-3.95-0.439-0.439-4.973-4.096-10.24-8.046-11.849-9.216-14.482-11.264-16.676-13.166-0.878-0.877-4.243-3.51-7.46-5.851-3.22-2.487-6.145-4.681-6.584-5.12-0.439-0.439-6.875-5.705-14.482-11.703-7.607-5.851-14.921-11.556-16.091-12.58-1.317-1.17-17.116-13.605-35.255-27.795-17.993-14.19-35.109-27.648-38.035-29.842-5.705-4.681-33.499-26.624-125.074-98.743-34.523-27.209-72.704-57.344-84.846-66.852-49.737-39.498-55.15-43.594-56.905-43.447-0.877 0-14.043 10.24-29.257 22.528z\\\" fill=\\\"#006CFF\\\" p-id=\\\"6299\\\"></path></svg>\"},\"link\":\"https://juejin.cn/user/4054654613726295\"},{\"icon\":\"github\",\"link\":\"https://github.com/Naparte/verce-blog\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2018-present Naparte\"},\"editLink\":{\"pattern\":\"https://github.com/vuejs/vitepress/edit/main/docs/:path\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>